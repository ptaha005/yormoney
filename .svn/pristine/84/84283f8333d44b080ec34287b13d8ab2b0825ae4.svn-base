define(["knockout","jquery","text!./../templates/Login.html","core","vent"],function(e,t,n,r,i){return e.bindingHandlers.executeOnEnter={init:function(e,n,r,i){var s=r();t(e).keypress(function(e){var t=e.which?e.which:e.keyCode;return t===13?(s.executeOnEnter.call(i),!1):!0})}},function(){var s=this;s.password=e.observable(),s.userName=e.observable(),s.error=e.observable(""),s.login=function(){var e={password:s.password(),username:s.userName()};r.ajax_post("/api/user/signin",e,function(e){e.jsonValues.success?i.trigger("next",e.describeState):s.error(e.jsonValues.message)})},s.onRemove=function(){t("body").removeClass("nobackground")},s.afterRender=function(){t("body").addClass("nobackground")},s.template=n}})
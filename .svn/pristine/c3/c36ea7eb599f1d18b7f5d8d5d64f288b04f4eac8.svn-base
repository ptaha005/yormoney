define(["knockout","jquery","text!./../../templates/Layouts/GridLayout.html","vent"],function(e,t,n,r){return function(i){var s=this;s.total=e.observable(2500),s.title=i.title,s.content=e.region(),s.next=function(){r.trigger("update_state",i.fromPage)},s.exit=function(){r.trigger("logout")},s.home=function(){t.get("/api/user/state",function(e){r.trigger("next",e)})},s.showGuides=function(){r.trigger("showGuides",i.fromPage)},s.showHowToVidio=function(){r.trigger("showHowToVidio",i.fromPage)},r.on("update_total",function(e,n){t.get("/user/total",function(e){s.total(e.Result)})}),s.onRemove=function(){r.off("update_total")},s.afterRender=function(){r.trigger("update_total")},s.template=n}})
define(["knockout","jquery","text!./../../templates/ProductInfoTabs/Contacts.html","vent","ko.mapping","../../../widgets/start","core"],function(e,t,n,r,i,s,o){return function(t){var r=this;r.notes=e.observable(new s.Notes(t.insurance.notes||[])),r.saveNotes=e.computed(function(){var e=r.notes().getNotes();r.saveNotes&&o.ajax_post("/insurance/notes",e)}),r.address=e.observableArray(t.addresses),r.addressName=e.observable(""),r.addressDescription=e.observable(""),r.removeAddress=function(e){o.ajax_delete("/insurance/address/"+e.id,function(){r.address.remove(e)})},r.addAddress=function(){if(r.addressName()==""||r.addressDescription()=="")return;var e={name:r.addressName(),description:r.addressDescription()};o.ajax_post("/insurance/address",e,function(e){r.address.push(e),r.addressName(""),r.addressDescription("")})},r.phones=e.observableArray(t.phones),r.removePhone=function(e){o.ajax_delete("/insurance/phone/"+e.id,function(){r.phones.remove(e)})},r.phoneName=e.observable(""),r.phoneDescription=e.observable(""),r.addPhone=function(){if(r.phoneName()==""||r.phoneDescription()=="")return;var e={name:r.phoneName(),description:r.phoneDescription()};o.ajax_post("/insurance/phone",e,function(e){r.phones.push(e),r.phoneName(""),r.phoneDescription("")})},r.template=n}})
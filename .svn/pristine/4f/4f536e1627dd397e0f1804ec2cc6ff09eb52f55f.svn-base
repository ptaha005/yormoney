define(["knockout","jquery","text!./../templates/Notes.html"],function(e,t,n){var r=function(t){var n=this;n.date=e.observable(t.date),n.dateStr=e.computed(function(){var e=new Date(n.date()),t=e.getDate(),r=e.getMonth()+1,i=e.getFullYear();return i+"-"+r+"-"+t}),n.description=e.observable(t.description),n.template=e.observable(t.template||"note-view")};return function(t){var i=this;i.note=e.observableArray(e.utils.arrayMap(t||[],function(e){return new r(e)})),i.getNotes=e.computed(function(){return e.utils.arrayMap(i.note(),function(e){return{date:e.date(),description:e.description()}})}),i.setNotes=function(t){var n=e.observableArray(e.utils.arrayMap(t,function(e){return new r(e)}));i.note(n)},i.displayMode=function(e){return e.template()},i.addNote=function(){var e=new Date;i.note.push(new r({date:e,description:"",template:"note-edit"}))},i.cansel=function(e){e.template("note-view")},i.remove=function(e){i.note.remove(e)},i.save=function(e){e.template("note-view"),i.onSave()},i.onSave=function(){},i.edit=function(t){e.utils.arrayForEach(i.note(),function(e){e.template("note-view")}),t.template("note-edit")},i.template=n}})
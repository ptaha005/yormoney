define("text!moduls/dashboard/templates/ProductSelect.html",[],function(){return'<div class="bckg_page">\r\n    <div id="header">\r\n        <div id="logo"><a href="#"></a></div>\r\n        <div id="exit"><a class="exit" href="#"></a></div>\r\n    </div>\r\n    <div id="content" class="help">\r\n        <div class="left_video">\r\n            <img src="/pages/img/diagram_color.png" alt="diagramm" class="diagr_video">\r\n            <a href="#"><img src="/pages/img/apps.png" alt="apps" class="app"></a>\r\n            <a href="#"><img src="/pages/img/yoshop.png" alt="yor shop"></a>\r\n            <a href="#"><img src="/pages/img/tescobl.png" alt="tesco" class="tesco"></a>\r\n        </div>\r\n        <div class="content video_page suppliers">\r\n            <div class="title_form">\r\n                <span class="back"><a href="#"><img src="/pages/img/back.png" alt="back"></a></span>\r\n                <span class="video_lib">Y&ouml;r - Suppler Information - Selection</span>\r\n                <span class="dash"><a href="#"><img src="/pages/img/edit_sup.png" alt="back"></a></span>\r\n            </div>\r\n            <div class="bckgr_full">\r\n                <div class="fin_content">\r\n                    <div class="fleft">\r\n                        <h3>Y&ouml;r Finances</h3>\r\n                    </div>\r\n                    <div class="fright">\r\n                        <button href="#" class="butt green_sm">Add to finance list</button>\r\n                    </div>\r\n                    <div class="clear"></div>\r\n                    <div class="fin_column">\r\n                        <div class="num">\r\n                            1\r\n                        </div>\r\n                        <ul>\r\n                            <li><a href="#">Banl Account</a></li>\r\n                            <li><a href="#">Insurances</a></li>\r\n                            <li><a href="#">Self Employed</a></li>\r\n                            <li><a href="#">Income</a></li>\r\n                            <li><a href="#">Loans</a></li>\r\n                            <li><a href="#">Credit / Store Cards</a></li>\r\n                            <li><a href="#">Mortgages</a></li>\r\n                            <li><a href="#">Retirement</a></li>\r\n                            <li><a href="#">IOU\'s</a></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class="fin_column">\r\n                        <div class="num">\r\n                            2\r\n                        </div>\r\n                        <ul>\r\n                            <li><a href="#">Banl Account</a></li>\r\n                            <li><a href="#">Insurances</a></li>\r\n                            <li><a href="#">Self Employed</a></li>\r\n                            <li><a href="#">Income</a></li>\r\n                            <li><a href="#">Loans</a></li>\r\n                            <li><a href="#">Credit / Store Cards</a></li>\r\n                            <li><a href="#">Mortgages</a></li>\r\n                            <li><a href="#">Retirement</a></li>\r\n                            <li><a href="#">IOU\'s</a></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class="fin_column">\r\n                        <div class="num">\r\n                            3\r\n                        </div>\r\n                        <ul>\r\n                            <li><a href="#">Banl Account</a></li>\r\n                            <li><a href="#">Insurances</a></li>\r\n                            <li><a href="#">Self Employed</a></li>\r\n                            <li><a href="#">Income</a></li>\r\n                            <li><a href="#">Loans</a></li>\r\n                            <li><a href="#">Credit / Store Cards</a></li>\r\n                            <li><a href="#">Mortgages</a></li>\r\n                            <li><a href="#">Retirement</a></li>\r\n                            <li><a href="#">IOU\'s</a></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class="budget">\r\n                    <div class="fleft white">BUDGET £ 1,000.00</div>\r\n                    <div class="fright green">ACTUAL £500.00</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("moduls/dashboard/viewModels/ProductSelect",["knockout","jquery","text!./../templates/ProductSelect.html"],function(e,t,n){return function(){var e=this;e.template=n}}),define("text!moduls/dashboard/templates/ProductInfo.html",[],function(){return'\r\n                    <div class="address_cont">\r\n                        <div class="fleft">\r\n                            <h3>Finances | Insurance | Critical Illness</h3>\r\n                        </div>\r\n                        <div class="fright">\r\n                            <ul class="menu_supplier">\r\n                                <!-- ko if:tab == \'documents\' -->\r\n                                <li>\r\n                                    <a title=\'delete folder/file\' data-bind="click : remove" href="#/productInfo"><img src="/pages/img/suppl_cancel.png"></a></li>\r\n                                <li>\r\n                                    <a title=\'add folder\' href=\'#\' data-bind="click : edit"><img src="/pages/img/suppl_message.png"></a></li>\r\n                                <li>\r\n                                    <a title=\'show video tutorial\' data-bind="click : showVideo" href="#"><img src="/pages/img/suppl_kino.png"></a></li>\r\n                                <!-- /ko -->\r\n                                <!-- ko if:tab != \'documents\' -->\r\n                                <li>\r\n                                    <a title=\'edit insurance\' href=\'#/insurance\' ><img src="/pages/img/suppl_message.png"></a></li>\r\n                                <li>\r\n                                <li>\r\n                                    <a title=\'show video tutorial\' data-bind="click : showVideo" href="#"><img src="/pages/img/suppl_kino.png"></a>\r\n                                </li>\r\n                                <!-- /ko -->\r\n                            </ul>\r\n                        </div>\r\n                        <div class="clear"></div>\r\n                        <div class="product_info ">\r\n                            <div class="product_parent">\r\n                                <div class="tabbable tabs-left">\r\n                                    <ul class="nav nav-tabs">\r\n                                        <li data-bind="css : { active : tab == \'home\' }" class="active">\r\n                                            <a href="#/productInfo/home" ><img src="/pages/img/dom.png"></a>\r\n                                        </li>\r\n                                        <li  data-bind="css : { active : tab == \'payhistory\' }" class="">\r\n                                            <a href="#/productInfo/payhistory" ><img src="/pages/img/payment_hist.png"></a>\r\n                                        </li>\r\n                                        <li  data-bind="css : { active : tab == \'contacts\' }" class="">\r\n                                            <a href="#/productInfo/contacts" ><img src="/pages/img/cont_det.png"></a>\r\n                                        </li>\r\n                                        <li  data-bind="css : { active : tab == \'documents\' }" class="">\r\n                                            <a href="#/productInfo/documents"><img src="/pages/img/doc_storage.png"></a>\r\n                                        </li>\r\n                                        <li  data-bind="css : { active : tab == \'compare\' }" class="">\r\n                                            <a href="#/productInfo/compare" ><img src="/pages/img/Compare.png"></a>\r\n                                        </li>\r\n                                    </ul>\r\n                                    <div class="tab-content">\r\n<div class="tab-pane active">\r\n    <!-- ko with : content -->\r\n    <!-- ko template : { html : template } -->\r\n    <!-- /ko -->\r\n    <!-- /ko -->\r\n</div>\r\n\r\n                    </div>'}),define("moduls/dashboard/viewModels/ProductInfo",["knockout","jquery","text!./../templates/ProductInfo.html","vent","ko.mapping","core"],function(e,t,n,r,i,s){return function(t){var i=this;i.tab=t.tab,i.content=e.region(),i.showVideo=function(){r.trigger("showHowToVidio","income")},i.remove=function(){r.trigger("deleteFileOrFolder")},i.edit=function(){r.trigger("createFolder")},i.template=n}}),define("text!moduls/dashboard/templates/Calendar.html",[],function(){return'\n                    <div class="calendar_suppl">\n\n                        <div id=\'calendar\' class="calendar_suppl"></div>\n                        </div>\n'}),function(e,t){function o(t){e.extend(!0,n,t)}function u(n,r,i){function D(e){d?(z(),U(),et(),q(e)):P()}function P(){v=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),d=e("<div class='fc-content' style='position:relative'/>").prependTo(n),h=new a(o,r),p=h.render(),p&&n.prepend(p),I(r.defaultView),e(window).resize(X),F()||H()}function H(){setTimeout(function(){!b.start&&F()&&q()},0)}function B(){e(window).unbind("resize",X),h.destroy(),d.remove(),n.removeClass("fc fc-rtl ui-widget")}function j(){return l.offsetWidth!==0}function F(){return e("body")[0].offsetWidth!==0}function I(t){if(!b||t!=b.name){k++,nt();var n=b,r;n?((n.beforeHide||Y)(),G(d,d.height()),n.element.hide()):G(d,1),d.css("overflow","hidden"),b=w[t],b?b.element.show():b=w[t]=new s[t](r=T=e("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(d),o),n&&h.deactivateButton(n.name),h.activateButton(t),q(),d.css("overflow",""),n&&G(d,1),r||(b.afterShow||Y)(),k--}}function q(e){if(j()){k++,nt(),x===t&&z();var r=!1;!b.start||e||L<b.start||L>=b.end?(b.render(L,e||0),W(!0),r=!0):b.sizeDirty?(b.clearEvents(),W(),r=!0):b.eventsDirty&&(b.clearEvents(),r=!0),b.sizeDirty=!1,b.eventsDirty=!1,V(r),E=n.outerWidth(),h.updateTitle(b.title);var i=new Date;i>=b.start&&i<b.end?h.disableButton("today"):h.enableButton("today"),k--,b.trigger("viewDisplay",l)}}function R(){U(),j()&&(z(),W(),nt(),b.clearEvents(),b.renderEvents(A),b.sizeDirty=!1)}function U(){e.each(w,function(e,t){t.sizeDirty=!0})}function z(){r.contentHeight?x=r.contentHeight:r.height?x=r.height-(p?p.height():0)-$(d):x=Math.round(d.width()/Math.max(r.aspectRatio,.5))}function W(e){k++,b.setHeight(x,e),T&&(T.css("position","relative"),T=null),b.setWidth(d.width(),e),k--}function X(){if(!k)if(b.start){var e=++N;setTimeout(function(){e==N&&!k&&j()&&E!=(E=n.outerWidth())&&(k++,R(),b.trigger("windowResize",l),k--)},200)}else H()}function V(e){!r.lazyFetching||u(b.visStart,b.visEnd)?J():e&&Z()}function J(){f(b.visStart,b.visEnd)}function K(e){A=e,Z()}function Q(e){Z(e)}function Z(e){et(),j()&&(b.clearEvents(),b.renderEvents(A,e),b.eventsDirty=!1)}function et(){e.each(w,function(e,t){t.eventsDirty=!0})}function tt(e,n,r){b.select(e,n,r===t?!0:r)}function nt(){b&&b.unselect()}function rt(){q(-1)}function it(){q(1)}function st(){m(L,-1),q()}function ot(){m(L,1),q()}function ut(){L=new Date,q()}function at(e,t,n){e instanceof Date?L=S(e):C(L,e,t,n),q()}function ft(e,n,r){e!==t&&m(L,e),n!==t&&g(L,n),r!==t&&y(L,r),q()}function lt(){return S(L)}function ct(){return b}function ht(e,n){if(n===t)return r[e];if(e=="height"||e=="contentHeight"||e=="aspectRatio")r[e]=n,R()}function pt(e,t){if(r[e])return r[e].apply(t||l,Array.prototype.slice.call(arguments,2))}var o=this;o.options=r,o.render=D,o.destroy=B,o.refetchEvents=J,o.reportEvents=K,o.reportEventChange=Q,o.rerenderEvents=Z,o.changeView=I,o.select=tt,o.unselect=nt,o.prev=rt,o.next=it,o.prevYear=st,o.nextYear=ot,o.today=ut,o.gotoDate=at,o.incrementDate=ft,o.formatDate=function(e,t){return O(e,t,r)},o.formatDates=function(e,t,n){return M(e,t,n,r)},o.getDate=lt,o.getView=ct,o.option=ht,o.trigger=pt,c.call(o,r,i);var u=o.isFetchNeeded,f=o.fetchEvents,l=n[0],h,p,d,v,b,w={},E,x,T,N=0,k=0,L=new Date,A=[],_;C(L,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;if(e.isFunction(o)?o.call(i,s):s.is(o))_=i,b.dragStart(_,t,n)}}).bind("dragstop",function(e,t){_&&(b.dragStop(_,e,t),_=null)})}function a(t,n){function u(){o=n.theme?"ui":"fc";var t=n.header;if(t)return i=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(f("left")).append(f("center")).append(f("right"))),i}function a(){i.remove()}function f(r){var i=e("<td class='fc-header-"+r+"'/>"),u=n.header[r];return u&&e.each(u.split(" "),function(r){r>0&&i.append("<span class='fc-header-space'/>");var u;e.each(this.split(","),function(r,a){if(a=="title")i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),u&&u.addClass(o+"-corner-right"),u=null;else{var f;t[a]?f=t[a]:s[a]&&(f=function(){h.removeClass(o+"-state-hover"),t.changeView(a)});if(f){var l=n.theme?nt(n.buttonIcons,a):null,c=nt(n.buttonText,a),h=e("<span class='fc-button fc-button-"+a+" "+o+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/>"+"</span>":c)+"</span>").click(function(){h.hasClass(o+"-state-disabled")||f()}).mousedown(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){h.removeClass(o+"-state-down")}).hover(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){h.removeClass(o+"-state-hover").removeClass(o+"-state-down")}).appendTo(i);st(h),u||h.addClass(o+"-corner-left"),u=h}}}),u&&u.addClass(o+"-corner-right")}),i}function l(e){i.find("h2").html(e)}function c(e){i.find("span.fc-button-"+e).addClass(o+"-state-active")}function h(e){i.find("span.fc-button-"+e).removeClass(o+"-state-active")}function p(e){i.find("span.fc-button-"+e).addClass(o+"-state-disabled")}function d(e){i.find("span.fc-button-"+e).removeClass(o+"-state-disabled")}var r=this;r.render=u,r.destroy=a,r.updateTitle=l,r.activateButton=c,r.deactivateButton=h,r.disableButton=p,r.enableButton=d;var i=e([]),o}function c(n,r){function w(e,t){return!p||e<p||t>d}function E(e,t){p=e,d=t,y=[];var n=++v,r=h.length;m=r;for(var i=0;i<r;i++)x(h[i],n)}function x(t,r){T(t,function(i){if(r==v){if(i){n.eventDataTransform&&(i=e.map(i,n.eventDataTransform)),t.eventDataTransform&&(i=e.map(i,t.eventDataTransform));for(var s=0;s<i.length;s++)i[s].source=t,H(i[s]);y=y.concat(i)}m--,m||a(y)}})}function T(t,r){var s,o=i.sourceFetchers,u;for(s=0;s<o.length;s++){u=o[s](t,p,d,r);if(u===!0)return;if(typeof u=="object"){T(u,r);return}}var a=t.events;if(a)e.isFunction(a)?(D(),a(S(p),S(d),function(e){r(e),P()})):e.isArray(a)?r(a):r();else{var l=t.url;if(l){var c=t.success,h=t.error,v=t.complete,m=e.extend({},t.data||{}),g=lt(t.startParam,n.startParam),y=lt(t.endParam,n.endParam);g&&(m[g]=Math.round(+p/1e3)),y&&(m[y]=Math.round(+d/1e3)),D(),e.ajax(e.extend({},f,t,{data:m,success:function(t){t=t||[];var n=ft(c,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){ft(h,this,arguments),r()},complete:function(){ft(v,this,arguments),P()}}))}else r()}}function N(e){e=C(e),e&&(m++,x(e,v))}function C(t){e.isFunction(t)||e.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t});if(typeof t=="object")return B(t),h.push(t),t}function L(t){h=e.grep(h,function(e){return!j(e,t)}),y=e.grep(y,function(e){return!j(e.source,t)}),a(y)}function A(e){var t,n=y.length,r,i=u().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;t<n;t++)r=y[t],r._id==e._id&&r!=e&&(r.start=new Date(+r.start+s),e.end?r.end?r.end=new Date(+r.end+o):r.end=new Date(+i(r)+o):r.end=null,r.title=e.title,r.url=e.url,r.allDay=e.allDay,r.className=e.className,r.editable=e.editable,r.color=e.color,r.backgroudColor=e.backgroudColor,r.borderColor=e.borderColor,r.textColor=e.textColor,H(r));H(e),a(y)}function O(e,t){H(e),e.source||(t&&(c.events.push(e),e.source=c),y.push(e)),a(y)}function M(t){if(!t){y=[];for(var n=0;n<h.length;n++)e.isArray(h[n].events)&&(h[n].events=[])}else{if(!e.isFunction(t)){var r=t+"";t=function(e){return e._id==r}}y=e.grep(y,t,!0);for(var n=0;n<h.length;n++)e.isArray(h[n].events)&&(h[n].events=e.grep(h[n].events,t,!0))}a(y)}function _(t){return e.isFunction(t)?e.grep(y,t):t?(t+="",e.grep(y,function(e){return e._id==t})):y}function D(){g++||o("loading",null,!0)}function P(){--g||o("loading",null,!1)}function H(e){var r=e.source||{},i=lt(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+l++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=S(e.start=k(e.start,i)),e.end=k(e.end,i),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?S(e.end):null,e.allDay===t&&(e.allDay=lt(r.allDayDefault,n.allDayDefault)),e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[]}function B(e){e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[];var t=i.sourceNormalizers;for(var n=0;n<t.length;n++)t[n](e)}function j(e,t){return e&&t&&F(e)==F(t)}function F(e){return(typeof e=="object"?e.events||e.url:"")||e}var s=this;s.isFetchNeeded=w,s.fetchEvents=E,s.addEventSource=N,s.removeEventSource=L,s.updateEvent=A,s.renderEvent=O,s.removeEvents=M,s.clientEvents=_,s.normalizeEvent=H;var o=s.trigger,u=s.getView,a=s.reportEvents,c={events:[]},h=[c],p,d,v=0,m=0,g=0,y=[];for(var b=0;b<r.length;b++)C(r[b])}function m(e,t,n){return e.setFullYear(e.getFullYear()+t),n||E(e),e}function g(e,t,n){if(+e){var r=e.getMonth()+t,i=S(e);i.setDate(1),i.setMonth(r),e.setMonth(r),n||E(e);while(e.getMonth()!=i.getMonth())e.setDate(e.getDate()+(e<i?1:-1))}return e}function y(e,t,n){if(+e){var r=e.getDate()+t,i=S(e);i.setHours(9),i.setDate(r),e.setDate(r),n||E(e),b(e,i)}return e}function b(e,t){if(+e)while(e.getDate()!=t.getDate())e.setTime(+e+(e<t?1:-1)*d)}function w(e,t){return e.setMinutes(e.getMinutes()+t),e}function E(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function S(e,t){return t?E(new Date(+e)):new Date(+e)}function x(){var e=0,t;do t=new Date(1970,e++,1);while(t.getHours());return t}function T(e,t,n){t=t||1;while(!e.getDay()||n&&e.getDay()==1||!n&&e.getDay()==6)y(e,t);return e}function N(e,t){return Math.round((S(e,!0)-S(t,!0))/p)}function C(e,n,r,i){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),i!==t&&e.setDate(i)}function k(e,n){return typeof e=="object"?e:typeof e=="number"?new Date(e*1e3):typeof e=="string"?e.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(e)*1e3):(n===t&&(n=!0),L(e,n)||(e?new Date(e):null)):null}function L(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(t||!n[13]){var i=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),i.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),i.setDate(n[5])),b(r,i),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(Number("0."+n[12])*1e3),b(r,i)}else{r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?Number("0."+n[12])*1e3:0);if(n[14]){var s=Number(n[16])*60+(n[18]?Number(n[18]):0);s*=n[15]=="-"?1:-1,r=new Date(+r+s*60*1e3)}}return r}function A(e){if(typeof e=="number")return e*60;if(typeof e=="object")return e.getHours()*60+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,t[3].toLowerCase().charAt(0)=="p"&&(n+=12)),n*60+(t[2]?parseInt(t[2],10):0)}}function O(e,t,n){return M(e,null,t,n)}function M(e,t,r,i){i=i||n;var s=e,o=t,u,a=r.length,f,l,c,h="";for(u=0;u<a;u++){f=r.charAt(u);if(f=="'"){for(l=u+1;l<a;l++)if(r.charAt(l)=="'"){s&&(l==u+1?h+="'":h+=r.substring(u+1,l),u=l);break}}else if(f=="("){for(l=u+1;l<a;l++)if(r.charAt(l)==")"){var p=O(s,r.substring(u+1,l),i);parseInt(p.replace(/\D/,""),10)&&(h+=p),u=l;break}}else if(f=="["){for(l=u+1;l<a;l++)if(r.charAt(l)=="]"){var d=r.substring(u+1,l),p=O(s,d,i);p!=O(o,d,i)&&(h+=p),u=l;break}}else if(f=="{")s=t,o=e;else if(f=="}")s=e,o=t;else{for(l=a;l>u;l--)if(c=_[r.substring(u,l)]){s&&(h+=c(s,i)),u=l-1;break}l==u&&s&&(h+=f)}}return h}function D(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function P(e){return e.end?H(e.end,e.allDay):y(S(e.start),1)}function H(e,t){return e=S(e),t||e.getHours()||e.getMinutes()?y(e,1):E(e)}function B(e,t){return(t.msLength-e.msLength)*100+(e.event.start-t.event.start)}function j(e,t){return e.end>t.start&&e.start<t.end}function F(e,t,n,r){var i=[],s,o=e.length,u,a,f,l,c,h,p;for(s=0;s<o;s++)u=e[s],a=u.start,f=t[s],f>n&&a<r&&(a<n?(l=S(n),h=!1):(l=a,h=!0),f>r?(c=S(r),p=!1):(c=f,p=!0),i.push({event:u,start:l,end:c,isStart:h,isEnd:p,msLength:c-l}));return i.sort(B)}function I(e){var t=[],n,r=e.length,i,s,o,u;for(n=0;n<r;n++){i=e[n],s=0;for(;;){o=!1;if(t[s])for(u=0;u<t[s].length;u++)if(j(t[s][u],i)){o=!0;break}if(!o)break;s++}t[s]?t[s].push(i):t[s]=[i]}return t}function q(n,r,i){n.unbind("mouseover").mouseover(function(n){var s=n.target,o,u,a;while(s!=this)o=s,s=s.parentNode;(u=o._fci)!==t&&(o._fci=t,a=r[u],i(a.event,a.element,a),e(n.target).trigger(n)),n.stopPropagation()})}function R(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.width(Math.max(0,n-z(s,r)))}function U(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.height(Math.max(0,n-$(s,r)))}function z(e,t){return W(e)+V(e)+(t?X(e):0)}function W(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function X(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function V(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function $(e,t){return J(e)+Q(e)+(t?K(e):0)}function J(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function K(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function Q(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function G(e,t){t=typeof t=="number"?t+"px":t,e.each(function(e,n){n.style.cssText+=";min-height:"+t+";_height:"+t})}function Y(){}function Z(e,t){return e-t}function et(e){return Math.max.apply(Math,e)}function tt(e){return(e<10?"0":"")+e}function nt(e,n){if(e[n]!==t)return e[n];var r=n.split(/(?=[A-Z])/),i=r.length-1,s;for(;i>=0;i--){s=e[r[i].toLowerCase()];if(s!==t)return s}return e[""]}function rt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function it(e){return e.id+"/"+e.className+"/"+e.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function st(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function ot(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function ut(e,t){e.each(function(e,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+h[t.getDay()])})}function at(e,t){var n=e.source||{},r=e.color,i=n.color,s=t("eventColor"),o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s,u=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s,a=e.textColor||n.textColor||t("eventTextColor"),f=[];return o&&f.push("background-color:"+o),u&&f.push("border-color:"+u),a&&f.push("color:"+a),f.join(";")}function ft(t,n,r){e.isFunction(t)&&(t=[t]);if(t){var i,s;for(i=0;i<t.length;i++)s=t[i].apply(n,r)||s;return s}}function lt(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==t)return arguments[e]}function ct(e,t){function o(e,t){t&&(g(e,t),e.setDate(1));var o=S(e,!0);o.setDate(1);var u=g(S(o),1),a=S(o),f=S(u),l=r("firstDay"),c=r("weekends")?0:1;c&&(T(a),T(f,-1,!0)),y(a,-((a.getDay()-Math.max(l,c)+7)%7)),y(f,(7-f.getDay()+Math.max(l,c))%7);var h=Math.round((f-a)/(p*7));r("weekMode")=="fixed"&&(y(f,(6-h)*7),h=6),n.title=s(o,r("titleFormat")),n.start=o,n.end=u,n.visStart=a,n.visEnd=f,i(h,c?5:7,!0)}var n=this;n.render=o,dt.call(n,e,t,"month");var r=n.opt,i=n.renderBasic,s=t.formatDate}function ht(e,t){function o(e,t){t&&y(e,t*7);var o=y(S(e),-((e.getDay()-r("firstDay")+7)%7)),u=y(S(o),7),a=S(o),f=S(u),l=r("weekends");l||(T(a),T(f,-1,!0)),n.title=s(a,y(S(f),-1),r("titleFormat")),n.start=o,n.end=u,n.visStart=a,n.visEnd=f,i(1,l?7:5,!1)}var n=this;n.render=o,dt.call(n,e,t,"basicWeek");var r=n.opt,i=n.renderBasic,s=t.formatDates}function pt(e,t){function o(e,t){t&&(y(e,t),r("weekends")||T(e,t<0?-1:1)),n.title=s(e,r("titleFormat")),n.start=n.visStart=S(e,!0),n.end=n.visEnd=y(S(n.start),1),i(1,1,!1)}var n=this;n.render=o,dt.call(n,e,t,"basicDay");var r=n.opt,i=n.renderBasic,s=t.formatDate}function dt(t,n,r){function J(e,t,n){M=e,_=t,K();var r=!m;r?Q():u(),Y(n)}function K(){B=s("isRTL"),B?(j=-1,F=_-1):(j=1,F=0),I=s("firstDay"),q=s("weekends")?0:1,U=s("theme")?"ui":"fc",z=s("columnFormat"),W=s("weekNumbers"),X=s("weekNumberTitle"),s("weekNumberCalculation")!="iso"?V="w":V="W"}function Q(){T=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function Y(n){var r="",s,u,a=U+"-widget-header",f=U+"-widget-content",l=i.start.getMonth(),y=E(new Date),S,T,N;r+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",W&&(r+="<th class='fc-week-number "+a+"'/>");for(s=0;s<_;s++)S=bt(0,s),r+="<th class='fc-day-header fc-"+h[S.getDay()]+" "+a+"'/>";r+="</tr></thead><tbody>";for(s=0;s<M;s++){r+="<tr class='fc-week'>",W&&(r+="<td class='fc-week-number "+f+"'>"+"<div/>"+"</td>");for(u=0;u<_;u++)S=bt(s,u),T=["fc-day","fc-"+h[S.getDay()],f],S.getMonth()!=l&&T.push("fc-other-month"),+S==+y&&(T.push("fc-today"),T.push(U+"-state-highlight")),r+="<td class='"+T.join(" ")+"'"+" data-date='"+c(S,"yyyy-MM-dd")+"'"+">"+"<div>",n&&(r+="<div class='fc-day-number'>"+S.getDate()+"</div>"),r+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";r+="</tr>"}r+="</tbody></table>",Ot(),p&&p.remove(),p=e(r).appendTo(t),d=p.find("thead"),v=d.find(".fc-day-header"),m=p.find("tbody"),g=m.find("tr"),b=m.find(".fc-day"),w=g.find("td:first-child"),x=g.eq(0).find(".fc-day-content > div"),ot(d.add(d.find("tr"))),ot(g),g.eq(0).addClass("fc-first"),g.filter(":last").addClass("fc-last"),W&&d.find(".fc-week-number").text(X),v.each(function(t,n){var r=wt(t);e(n).text(c(r,z))}),W&&m.find(".fc-week-number > div").each(function(t,n){var r=bt(t,0);e(n).text(c(r,V))}),b.each(function(t,n){var r=wt(t);o("dayRender",i,r,e(n))}),tt(b)}function Z(t){k=t;var n=k-d.height(),r,i,o;s("weekMode")=="variable"?r=i=Math.floor(n/(M==1?2:6)):(r=Math.floor(n/M),i=n-r*(M-1)),w.each(function(t,n){t<M&&(o=e(n),G(o.find("> div"),(t==M-1?i:r)-$(o)))}),Mt()}function et(e){C=e,H.clear(),O=0,W&&(O=d.find("th.fc-week-number").outerWidth()),A=Math.floor((C-O)/_),R(v.slice(0,-1),A)}function tt(e){e.click(nt).mousedown(l)}function nt(t){if(!s("selectable")){var n=L(e(this).data("date"));o("dayClick",this,n,!0,t)}}function rt(e,t,n){n&&D.build();var r=S(i.visStart),s=y(S(r),_);for(var o=0;o<M;o++){var u=new Date(Math.max(r,e)),a=new Date(Math.min(s,t));if(u<a){var f,l;B?(f=N(a,r)*j+F+1,l=N(u,r)*j+F+1):(f=N(u,r),l=N(a,r)),tt(it(o,f,o,l-1))}y(r,7),y(s,7)}}function it(e,n,r,i){var s=D.rect(e,n,r,i,t);return a(s,t)}function ut(e,t){return S(e)}function at(e,t,n){rt(e,y(S(t),1),!0)}function ft(){f()}function lt(e,t,n){var r=gt(e),i=b[r.row*_+r.col];o("dayClick",i,e,t,n)}function ct(e,t,n){P.start(function(e){f(),e&&it(e.row,e.col,e.row,e.col)},t)}function ht(e,t,n){var r=P.stop();f();if(r){var i=yt(r);o("drop",e,i,!0,t,n)}}function pt(e){return S(e.start)}function dt(e){return H.left(e)}function mt(e){return H.right(e)}function gt(e){return{row:Math.floor(N(e,i.visStart)/7),col:St(e.getDay())}}function yt(e){return bt(e.row,e.col)}function bt(e,t){return y(S(i.visStart),e*7+t*j+F)}function wt(e){return bt(Math.floor(e/_),e%_)}function St(e){return(e-Math.max(I,q)+_)%_*j+F}function kt(e){return g.eq(e)}function At(e){var t=0;return W&&(t+=O),{left:t,right:C}}function Ot(){G(t,t.height())}function Mt(){G(t,1)}var i=this;i.renderBasic=J,i.setHeight=Z,i.setWidth=et,i.renderDayOverlay=rt,i.defaultSelectionEnd=ut,i.renderSelection=at,i.clearSelection=ft,i.reportDayClick=lt,i.dragStart=ct,i.dragStop=ht,i.defaultEventEnd=pt,i.getHoverListener=function(){return P},i.colContentLeft=dt,i.colContentRight=mt,i.dayOfWeekCol=St,i.dateCell=gt,i.cellDate=yt,i.cellIsAllDay=function(){return!0},i.allDayRow=kt,i.allDayBounds=At,i.getRowCnt=function(){return M},i.getColCnt=function(){return _},i.getColWidth=function(){return A},i.getDaySegmentContainer=function(){return T},Et.call(i,t,n,r),Tt.call(i),xt.call(i),vt.call(i);var s=i.opt,o=i.trigger,u=i.clearEvents,a=i.renderOverlay,f=i.clearOverlays,l=i.daySelectionMousedown,c=n.formatDate,p,d,v,m,g,b,w,x,T,C,k,A,O,M,_,D,P,H,B,j,F,I,q,U,z,W,X,V;st(t.addClass("fc-grid")),D=new Nt(function(t,n){var r,i,s;v.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),g.each(function(n,o){n<M&&(r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s)}),s[1]=i+r.outerHeight()}),P=new Ct(D),H=new Lt(function(e){return x.eq(e)})}function vt(){function E(e,t){o(e),b(T(e),t),r("eventAfterAllRender")}function x(){u(),h().empty()}function T(n){var r=m(),i=g(),s=S(t.visStart),o=y(S(s),i),u=e.map(n,P),a,f,l,c,h,p,d=[];for(a=0;a<r;a++){f=I(F(n,u,s,o));for(l=0;l<f.length;l++){c=f[l];for(h=0;h<c.length;h++)p=c[h],p.row=a,p.level=l,d.push(p)}y(s,7),y(o,7)}return d}function N(e,t,n){i(e)&&C(e,t),n.isEnd&&s(e)&&w(e,t,n),a(e,t)}function C(e,t){var i=p(),s;t.draggable({zIndex:9,delay:50,opacity:n("dragOpacity"),revertDuration:n("dragRevertDuration"),start:function(o,u){r("eventDragStart",t,e,o,u),l(e,t),i.start(function(r,i,o,u){t.draggable("option","revert",!r||!o&&!u),v(),r?(s=o*7+u*(n("isRTL")?-1:1),d(y(S(e.start),s),y(P(e),s))):s=0},o,"drag")},stop:function(n,o){i.stop(),v(),r("eventDragStop",t,e,n,o),s?c(this,e,s,0,e.allDay,n,o):(t.css("filter",""),f(e,t))}})}var t=this;t.renderEvents=E,t.compileDaySegs=T,t.clearEvents=x,t.bindDaySeg=N,St.call(t);var n=t.opt,r=t.trigger,i=t.isEventDraggable,s=t.isEventResizable,o=t.reportEvents,u=t.reportEventClear,a=t.eventElementHandlers,f=t.showEvents,l=t.hideEvents,c=t.eventDrop,h=t.getDaySegmentContainer,p=t.getHoverListener,d=t.renderDayOverlay,v=t.clearOverlays,m=t.getRowCnt,g=t.getColCnt,b=t.renderDaySegs,w=t.resizableDayEvent}function mt(e,t){function o(e,t){t&&y(e,t*7);var o=y(S(e),-((e.getDay()-r("firstDay")+7)%7)),u=y(S(o),7),a=S(o),f=S(u),l=r("weekends");l||(T(a),T(f,-1,!0)),n.title=s(a,y(S(f),-1),r("titleFormat")),n.start=o,n.end=u,n.visStart=a,n.visEnd=f,i(l?7:5)}var n=this;n.render=o,yt.call(n,e,t,"agendaWeek");var r=n.opt,i=n.renderAgenda,s=t.formatDates}function gt(e,t){function o(e,t){t&&(y(e,t),r("weekends")||T(e,t<0?-1:1));var o=S(e,!0),u=y(S(o),1);n.title=s(e,r("titleFormat")),n.start=n.visStart=o,n.end=n.visEnd=u,i(1)}var n=this;n.render=o,yt.call(n,e,t,"agendaDay");var r=n.opt,i=n.renderAgenda,s=t.formatDate}function yt(n,r,i){function Mt(e){nt=e,_t(),m?a():Dt(),Pt()}function _t(){ht=o("theme")?"ui":"fc",dt=o("weekends")?0:1,pt=o("firstDay"),(vt=o("isRTL"))?(mt=-1,gt=nt-1):(mt=1,gt=0),yt=A(o("minTime")),wt=A(o("maxTime")),St=o("columnFormat"),kt=o("weekNumbers"),At=o("weekNumberTitle"),o("weekNumberCalculation")!="iso"?Ot="w":Ot="W",Y=o("snapMinutes")||o("slotMinutes")}function Dt(){var t=ht+"-widget-header",r=ht+"-widget-content",i,s,u,a,f,l=o("slotMinutes")%15==0;i="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr>",kt?i+="<th class='fc-agenda-axis fc-week-number "+t+"'/>":i+="<th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(s=0;s<nt;s++)i+="<th class='fc- fc-col"+s+" "+t+"'/>";i+="<th class='fc-agenda-gutter "+t+"'>&nbsp;</th>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+"<th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(s=0;s<nt;s++)i+="<td class='fc- fc-col"+s+" "+r+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";i+="<td class='fc-agenda-gutter "+r+"'>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>",m=e(i).appendTo(n),g=m.find("thead"),b=g.find("th").slice(1,-1),T=m.find("tbody"),C=T.find("td").slice(0,-1),k=C.find("div.fc-day-content div"),L=C.eq(0),O=L.find("> div"),ot(g.add(g.find("tr"))),ot(T.add(T.find("tr"))),q=g.find("th:first"),z=m.find(".fc-agenda-gutter"),M=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),o("allDaySlot")?(_=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(M),i="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+t+" fc-agenda-axis'>"+o("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+t+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",D=e(i).appendTo(M),P=D.find("tr"),qt(P.find("td")),q=q.add(D.find("th:first")),z=z.add(D.find("th.fc-agenda-gutter")),M.append("<div class='fc-agenda-divider "+t+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):_=e([]),H=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(M),B=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(H),j=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(B),i="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",u=x(),a=w(S(u),wt),w(u,yt),rt=0;for(s=0;u<a;s++)f=u.getMinutes(),i+="<tr class='fc-slot"+s+" "+(f?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+t+"'>"+(!l||!f?v(u,o("axisFormat")):"&nbsp;")+"</th>"+"<td class='"+r+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",w(u,o("slotMinutes")),rt++;i+="</tbody></table>",F=e(i).appendTo(B),I=F.find("div:first"),Rt(F.find("td")),q=q.add(F.find("th:first"))}function Pt(){var e,t,n,r,i=E(new Date);if(kt){var s=v(Qt(0),Ot);vt?s+=At:s=At+s,g.find(".fc-week-number").text(s)}for(e=0;e<nt;e++)r=Qt(e),t=b.eq(e),t.html(v(r,St)),n=C.eq(e),+r==+i?n.addClass(ht+"-state-highlight fc-today"):n.removeClass(ht+"-state-highlight fc-today"),ut(t.add(n),r)}function Ht(e,n){e===t&&(e=V),V=e,lt={};var r=T.position().top,i=H.position().top,s=Math.min(e-r,F.height()+i+1);O.height(s-$(L)),M.css("top",r),H.height(s-i-1),G=I.height()+1,et=o("slotMinutes")/Y,tt=G/et,n&&jt()}function Bt(t){X=t,ft.clear(),J=0,R(q.width("").each(function(t,n){J=Math.max(J,e(n).outerWidth())}),J);var n=H[0].clientWidth;Q=H.width()-n,Q?(R(z,Q),z.show().prev().removeClass("fc-last")):z.hide().prev().addClass("fc-last"),K=Math.floor((n-J)/nt),R(b.slice(0,-1),K)}function jt(){function r(){H.scrollTop(n)}var e=x(),t=S(e);t.setHours(o("firstHour"));var n=Zt(e,t)+1;r(),setTimeout(r,0)}function Ft(){ct=H.scrollTop()}function It(){H.scrollTop(ct)}function qt(e){e.click(Ut).mousedown(p)}function Rt(e){e.click(Ut).mousedown(an)}function Ut(e){if(!o("selectable")){var t=Math.min(nt-1,Math.floor((e.pageX-m.offset().left-J)/K)),n=Qt(t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var i=parseInt(r[1])*o("slotMinutes"),s=Math.floor(i/60);n.setHours(s),n.setMinutes(i%60+yt),u("dayClick",C[t],n,!1,e)}else u("dayClick",C[t],n,!0,e)}}function zt(e,t,n){n&&it.build();var r=S(s.visStart),i,o;vt?(i=N(t,r)*mt+gt+1,o=N(e,r)*mt+gt+1):(i=N(e,r),o=N(t,r)),i=Math.max(0,i),o=Math.min(nt,o),i<o&&qt(Wt(0,i,0,o-1))}function Wt(e,t,n,r){var i=it.rect(e,t,n,r,M);return f(i,M)}function Xt(e,t){var n=S(s.visStart),r=y(S(n),1);for(var i=0;i<nt;i++){var o=new Date(Math.max(n,e)),u=new Date(Math.min(r,t));if(o<u){var a=i*mt+gt,l=it.rect(0,a,0,a,B),c=Zt(n,o),h=Zt(n,u);l.top=c,l.height=h-c,Rt(f(l,B))}y(n,1),y(r,1)}}function Vt(e){return ft.left(e)}function $t(e){return ft.right(e)}function Jt(e){return{row:Math.floor(N(e,s.visStart)/7),col:Yt(e.getDay())}}function Kt(e){var t=Qt(e.col),n=e.row;return o("allDaySlot")&&n--,n>=0&&w(t,yt+n*Y),t}function Qt(e){return y(S(s.visStart),e*mt+gt)}function Gt(e){return o("allDaySlot")&&!e.row}function Yt(e){return(e-Math.max(pt,dt)+nt)%nt*mt+gt}function Zt(e,n){e=S(e,!0);if(n<w(S(e),yt))return 0;if(n>=w(S(e),wt))return F.height();var r=o("slotMinutes"),i=n.getHours()*60+n.getMinutes()-yt,s=Math.floor(i/r),u=lt[s];return u===t&&(u=lt[s]=F.find("tr:eq("+s+") td div")[0].offsetTop),Math.max(0,Math.round(u-1+G*(i%r/r)))}function en(){return{left:J,right:X-Q}}function tn(e){return P}function nn(e){var t=S(e.start);return e.allDay?t:w(t,o("defaultEventMinutes"))}function rn(e,t){return t?S(e):w(S(e),o("slotMinutes"))}function sn(e,t,n){n?o("allDaySlot")&&zt(e,y(S(t),1),!0):on(e,t)}function on(t,n){var r=o("selectHelper");it.build();if(r){var i=N(t,s.visStart)*mt+gt;if(i>=0&&i<nt){var u=it.rect(0,i,0,i,B),a=Zt(t,t),f=Zt(t,n);if(f>a){u.top=a,u.height=f-a,u.left+=2,u.width-=5;if(e.isFunction(r)){var l=r(t,n);l&&(u.position="absolute",u.zIndex=8,W=e(l).css(u).appendTo(B))}else u.isStart=!0,u.isEnd=!0,W=e(d({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},u)),W.css("opacity",o("dragOpacity"));W&&(Rt(W),B.append(W),R(W,u.width,!0),U(W,u.height,!0))}}}else Xt(t,n)}function un(){l(),W&&(W.remove(),W=null)}function an(t){if(t.which==1&&o("selectable")){h(t);var n;at.start(function(e,t){un();if(e&&e.col==t.col&&!Gt(e)){var r=Kt(t),i=Kt(e);n=[r,w(S(r),Y),i,w(S(i),Y)].sort(Z),on(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){at.stop(),n&&(+n[0]==+n[1]&&fn(n[0],!1,e),c(n[0],n[3],!1,e))})}}function fn(e,t,n){u("dayClick",C[Yt(e.getDay())],e,t,n)}function ln(e,t,n){at.start(function(e){l();if(e)if(Gt(e))Wt(e.row,e.col,e.row,e.col);else{var t=Kt(e),n=w(S(t),o("defaultEventMinutes"));Xt(t,n)}},t)}function cn(e,t,n){var r=at.stop();l(),r&&u("drop",e,Kt(r),Gt(r),t,n)}var s=this;s.renderAgenda=Mt,s.setWidth=Bt,s.setHeight=Ht,s.beforeHide=Ft,s.afterShow=It,s.defaultEventEnd=nn,s.timePosition=Zt,s.dayOfWeekCol=Yt,s.dateCell=Jt,s.cellDate=Kt,s.cellIsAllDay=Gt,s.allDayRow=tn,s.allDayBounds=en,s.getHoverListener=function(){return at},s.colContentLeft=Vt,s.colContentRight=$t,s.getDaySegmentContainer=function(){return _},s.getSlotSegmentContainer=function(){return j},s.getMinMinute=function(){return yt},s.getMaxMinute=function(){return wt},s.getBodyContent=function(){return B},s.getRowCnt=function(){return 1},s.getColCnt=function(){return nt},s.getColWidth=function(){return K},s.getSnapHeight=function(){return tt},s.getSnapMinutes=function(){return Y},s.defaultSelectionEnd=rn,s.renderDayOverlay=zt,s.renderSelection=sn,s.clearSelection=un,s.reportDayClick=fn,s.dragStart=ln,s.dragStop=cn,Et.call(s,n,r,i),Tt.call(s),xt.call(s),bt.call(s);var o=s.opt,u=s.trigger,a=s.clearEvents,f=s.renderOverlay,l=s.clearOverlays,c=s.reportSelection,h=s.unselect,p=s.daySelectionMousedown,d=s.slotSegHtml,v=r.formatDate,m,g,b,T,C,k,L,O,M,_,D,P,H,B,j,F,I,q,z,W,X,V,J,K,Q,G,Y,et,tt,nt,rt,it,at,ft,lt={},ct,ht,pt,dt,vt,mt,gt,yt,wt,St,kt,At,Ot;st(n.addClass("fc-agenda")),it=new Nt(function(t,n){function l(e){return Math.max(a,Math.min(f,e))}var r,i,s;b.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),o("allDaySlot")&&(r=P,i=r.offset().top,t[0]=[i,i+r.outerHeight()]);var u=B.offset().top,a=H.offset().top,f=a+H.outerHeight();for(var c=0;c<rt*et;c++)t.push([l(u+tt*c),l(u+tt*(c+1))])}),at=new Ct(it),ft=new Lt(function(e){return k.eq(e)})}function bt(){function J(e,t){a(e);var n,s=e.length,o=[],u=[];for(n=0;n<s;n++)e[n].allDay?o.push(e[n]):u.push(e[n]);r("allDaySlot")&&(T(Q(o),t),c()),Z(G(u),t),i("eventAfterAllRender")}function K(){f(),h().empty(),p().empty()}function Q(t){var r=I(F(t,e.map(t,P),n.visStart,n.visEnd)),i,s=r.length,o,u,a,f=[];for(i=0;i<s;i++){o=r[i];for(u=0;u<o.length;u++)a=o[u],a.row=0,a.level=i,f.push(a)}return f}function G(t){var r=C(),i=g(),s=m(),o=w(S(n.visStart),i),u=e.map(t,Y),a,f,l,c,h,p,d=[];for(a=0;a<r;a++){f=I(F(t,u,o,w(S(o),s-i))),wt(f);for(l=0;l<f.length;l++){c=f[l];for(h=0;h<c.length;h++)p=c[h],p.col=a,p.level=l,d.push(p)}y(o,1,!0)}return d}function Y(e){return e.end?S(e.end):w(S(e.start),r("defaultEventMinutes"))}function Z(n,s){var o,u=n.length,a,f,l,c,h,d,v,m,g,y,w,S,T="",N,k,L,A={},O={},_,D,P,H,B=p(),j,F,I,R=C();(j=r("isRTL"))?(F=-1,I=R-1):(F=1,I=0);for(o=0;o<u;o++)a=n[o],f=a.event,c=b(a.start,a.start),h=b(a.start,a.end),d=a.col,v=a.level,m=a.forward||0,g=E(d*F+I),y=x(d*F+I)-g,y=Math.min(y-6,y*.95),v?w=y/(v+m+1):m?w=(y/(m+1)-6)*2:w=y,S=g+y/(v+m+1)*v*F+(j?y-w:0),a.top=c,a.left=S,a.outerWidth=w,a.outerHeight=h-c,T+=et(f,a);B[0].innerHTML=T,N=B.children();for(o=0;o<u;o++)a=n[o],f=a.event,k=e(N[o]),L=i("eventRender",f,f,k),L===!1?k.remove():(L&&L!==!0&&(k.remove(),k=e(L).css({position:"absolute",top:a.top,left:a.left}).appendTo(B)),a.element=k,f._id===s?nt(f,k,a):k[0]._fci=o,M(f,k));q(B,n,nt);for(o=0;o<u;o++){a=n[o];if(k=a.element)D=A[_=a.key=it(k[0])],a.vsides=D===t?A[_]=$(k,!0):D,D=O[_],a.hsides=D===t?O[_]=z(k,!0):D,P=k.find(".fc-event-title"),P.length&&(a.contentTop=P[0].offsetTop)}for(o=0;o<u;o++){a=n[o];if(k=a.element)k[0].style.width=Math.max(0,a.outerWidth-a.hsides)+"px",H=Math.max(0,a.outerHeight-a.vsides),k[0].style.height=H+"px",f=a.event,a.contentTop!==t&&H-a.contentTop<10&&(k.find("div.fc-event-time").text(X(f.start,r("timeFormat"))+" - "+f.title),k.find("div.fc-event-title").remove()),i("eventAfterRender",f,f,k)}}function et(e,t){var n="<",i=e.url,u=at(e,r),a=["fc-event","fc-event-vert"];return s(e)&&a.push("fc-event-draggable"),t.isStart&&a.push("fc-event-start"),t.isEnd&&a.push("fc-event-end"),a=a.concat(e.className),e.source&&(a=a.concat(e.source.className||[])),i?n+="a href='"+rt(e.url)+"'":n+="div",n+=" class='"+a.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+t.top+"px;left:"+t.left+"px;"+u+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+rt(V(e.start,e.end,r("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+rt(e.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&o(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(i?"a":"div")+">",n}function tt(e,t,n){s(e)&&st(e,t,n.isStart),n.isEnd&&o(e)&&N(e,t,n),l(e,t)}function nt(e,t,n){var r=t.find("div.fc-event-time");s(e)&&ot(e,t,r),n.isEnd&&o(e)&&ut(e,t,r),l(e,t)}function st(e,t,n){function b(){u||(t.width(s).height("").draggable("option","grid",null),u=!0)}var s,o,u=!0,a,f=r("isRTL")?-1:1,l=d(),c=k(),h=L(),p=A(),m=g();t.draggable({zIndex:9,opacity:r("dragOpacity","month"),revertDuration:r("dragRevertDuration"),start:function(d,m){i("eventDragStart",t,e,d,m),D(e,t),s=t.width(),l.start(function(i,s,l,d){R(),i?(o=!1,a=d*f,i.row?n?u&&(t.width(c-10),U(t,h*Math.round((e.end?(e.end-e.start)/v:r("defaultEventMinutes"))/p)),t.draggable("option","grid",[c,1]),u=!1):o=!0:(j(y(S(e.start),a),y(P(e),a)),b()),o=o||u&&!a):(b(),o=!0),t.draggable("option","revert",o)},d,"drag")},stop:function(n,r){l.stop(),R(),i("eventDragStop",t,e,n,r);if(o)b(),t.css("filter",""),_(e,t);else{var s=0;u||(s=Math.round((t.offset().top-O().offset().top)/h)*p+m-(e.start.getHours()*60+e.start.getMinutes())),H(this,e,a,s,u,n,r)}}})}function ot(e,t,n){function g(t){var i=w(S(e.start),t),s;e.end&&(s=w(S(e.end),t)),n.text(V(i,s,r("timeFormat")))}function b(){o&&(n.css("display",""),t.draggable("option","grid",[p,v]),o=!1)}var s,o=!1,u,a,f,l=r("isRTL")?-1:1,c=d(),h=C(),p=k(),v=L(),m=A();t.draggable({zIndex:9,scroll:!1,grid:[p,v],axis:h==1?"y":!1,opacity:r("dragOpacity"),revertDuration:r("dragRevertDuration"),start:function(h,p){i("eventDragStart",t,e,h,p),D(e,t),s=t.position(),a=f=0,c.start(function(i,s,a,f){t.draggable("option","revert",!i),R(),i&&(u=f*l,r("allDaySlot")&&!i.row?(o||(o=!0,n.hide(),t.draggable("option","grid",null)),j(y(S(e.start),u),y(P(e),u))):b())},h,"drag")},drag:function(e,t){a=Math.round((t.position.top-s.top)/v)*m,a!=f&&(o||g(a),f=a)},stop:function(n,r){var f=c.stop();R(),i("eventDragStop",t,e,n,r),f&&(u||a||o)?H(this,e,u,o?0:a,o,n,r):(b(),t.css("filter",""),t.css(s),g(0),_(e,t))}})}function ut(e,t,n){var s,o,a=L(),f=A();t.resizable({handles:{s:".ui-resizable-handle"},grid:a,start:function(n,r){s=o=0,D(e,t),t.css("z-index",9),i("eventResizeStart",this,e,n,r)},resize:function(i,l){s=Math.round((Math.max(a,t.height())-l.originalSize.height)/a),s!=o&&(n.text(V(e.start,!s&&!e.end?null:w(u(e),f*s),r("timeFormat"))),o=s)},stop:function(n,r){i("eventResizeStop",this,e,n,r),s?B(this,e,0,f*s,n,r):(t.css("z-index",8),_(e,t))}})}var n=this;n.renderEvents=J,n.compileDaySegs=Q,n.clearEvents=K,n.slotSegHtml=et,n.bindDaySeg=tt,St.call(n);var r=n.opt,i=n.trigger,s=n.isEventDraggable,o=n.isEventResizable,u=n.eventEnd,a=n.reportEvents,f=n.reportEventClear,l=n.eventElementHandlers,c=n.setHeight,h=n.getDaySegmentContainer,p=n.getSlotSegmentContainer,d=n.getHoverListener,m=n.getMaxMinute,g=n.getMinMinute,b=n.timePosition,E=n.colContentLeft,x=n.colContentRight,T=n.renderDaySegs,N=n.resizableDayEvent,C=n.getColCnt,k=n.getColWidth,L=n.getSnapHeight,A=n.getSnapMinutes,O=n.getBodyContent,M=n.reportEventElement,_=n.showEvents,D=n.hideEvents,H=n.eventDrop,B=n.eventResize,j=n.renderDayOverlay,R=n.clearOverlays,W=n.calendar,X=W.formatDate,V=W.formatDates}function wt(e){var t,n,r,i,s,o;for(t=e.length-1;t>0;t--){i=e[t];for(n=0;n<i.length;n++){s=i[n];for(r=0;r<e[t-1].length;r++)o=e[t-1][r],j(s,o)&&(o.forward=Math.max(o.forward||0,(s.forward||0)+1))}}}function Et(e,n,r){function h(e,t){var n=c[e];return typeof n=="object"?nt(n,t||r):n}function p(e,t){return n.trigger.apply(n,[e,t||i].concat(Array.prototype.slice.call(arguments,2),[i]))}function d(e){return m(e)&&!h("disableDragging")}function v(e){return m(e)&&!h("disableResizing")}function m(e){return lt(e.editable,(e.source||{}).editable,h("editable"))}function g(e){a={};var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],a[r._id]?a[r._id].push(r):a[r._id]=[r]}function b(e){return e.end?S(e.end):s(e)}function E(e,t){f.push(t),l[e._id]?l[e._id].push(t):l[e._id]=[t]}function x(){f=[],l={}}function T(e,t){t.click(function(n){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return p("eventClick",this,e,n)}).hover(function(t){p("eventMouseover",this,e,t)},function(t){p("eventMouseout",this,e,t)})}function N(e,t){k(e,t,"show")}function C(e,t){k(e,t,"hide")}function k(e,t,n){var r=l[e._id],i,s=r.length;for(i=0;i<s;i++)(!t||r[i][0]!=t[0])&&r[i][n]()}function L(e,t,n,r,i,s,o){var f=t.allDay,l=t._id;O(a[l],n,r,i),p("eventDrop",e,t,n,r,i,function(){O(a[l],-n,-r,f),u(l)},s,o),u(l)}function A(e,t,n,r,i,s){var o=t._id;M(a[o],n,r),p("eventResize",e,t,n,r,function(){M(a[o],-n,-r),u(o)},i,s),u(o)}function O(e,n,r,i){r=r||0;for(var s,u=e.length,a=0;a<u;a++)s=e[a],i!==t&&(s.allDay=i),w(y(s.start,n,!0),r),s.end&&(s.end=w(y(s.end,n,!0),r)),o(s,c)}function M(e,t,n){n=n||0;for(var r,i=e.length,s=0;s<i;s++)r=e[s],r.end=w(y(b(r),t,!0),n),o(r,c)}var i=this;i.element=e,i.calendar=n,i.name=r,i.opt=h,i.trigger=p,i.isEventDraggable=d,i.isEventResizable=v,i.reportEvents=g,i.eventEnd=b,i.reportEventElement=E,i.reportEventClear=x,i.eventElementHandlers=T,i.showEvents=N,i.hideEvents=C,i.eventDrop=L,i.eventResize=A;var s=i.defaultEventEnd,o=n.normalizeEvent,u=n.reportEventChange,a={},f=[],l={},c=n.options}function St(){function O(e,t){var n=T(),r,i=h(),s=p(),o=0,u,a,f,l,c=e.length,d,v,m;n[0].innerHTML=_(e),D(e,n.children()),P(e),H(e,n,t),B(e),j(e),F(e),r=I();for(u=0;u<i;u++){a=0,f=[];for(l=0;l<s;l++)f[l]=0;while(o<c&&(d=e[o]).row==u){v=et(f.slice(d.startCol,d.endCol)),d.top=v,v+=d.outerHeight;for(m=d.startCol;m<d.endCol;m++)f[m]=v;o++}r[u].height(et(f))}U(e,R(r))}function M(t,n,r){var i=e("<div/>"),s,o=T(),u,a=t.length,f;i[0].innerHTML=_(t),s=i.children(),o.append(s),D(t,s),B(t),j(t),F(t),U(t,R(I())),s=[];for(u=0;u<a;u++)f=t[u].element,f&&(t[u].row===n&&f.css("top",r),s.push(f[0]));return e(s)}function _(e){var t=r("isRTL"),n,i=e.length,u,a,f,l,c=m(),h=c.left,p=c.right,d,v,y,E,S,x="";for(n=0;n<i;n++)u=e[n],a=u.event,l=["fc-event","fc-event-hori"],s(a)&&l.push("fc-event-draggable"),u.isStart&&l.push("fc-event-start"),u.isEnd&&l.push("fc-event-end"),t?(d=w(u.end.getDay()-1),v=w(u.start.getDay()),y=u.isEnd?g(d):h,E=u.isStart?b(v):p):(d=w(u.start.getDay()),v=w(u.end.getDay()-1),y=u.isStart?g(d):h,E=u.isEnd?b(v):p),l=l.concat(a.className),a.source&&(l=l.concat(a.source.className||[])),f=a.url,S=at(a,r),f?x+="<a href='"+rt(f)+"'":x+="<div",x+=" class='"+l.join(" ")+"'"+" style='position:absolute;z-index:8;left:"+y+"px;"+S+"'"+">"+"<div class='fc-event-inner'>",!a.allDay&&u.isStart&&(x+="<span class='fc-event-time'>"+rt(C(a.start,a.end,r("timeFormat")))+"</span>"),x+="<span class='fc-event-title'>"+rt(a.title)+"</span>"+"</div>",u.isEnd&&o(a)&&(x+="<div class='ui-resizable-handle ui-resizable-"+(t?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),x+="</"+(f?"a":"div")+">",u.left=y,u.outerWidth=E-y,u.startCol=d,u.endCol=v+1;return x}function D(t,n){var r,s=t.length,o,u,a,f;for(r=0;r<s;r++)o=t[r],u=o.event,a=e(n[r]),f=i("eventRender",u,u,a),f===!1?a.remove():(f&&f!==!0&&(f=e(f).css({position:"absolute",left:o.left}),a.replaceWith(f),a=f),o.element=a)}function P(e){var t,n=e.length,r,i;for(t=0;t<n;t++)r=e[t],i=r.element,i&&a(r.event,i)}function H(e,t,n){var r,i=e.length,s,o,u;for(r=0;r<i;r++)s=e[r],o=s.element,o&&(u=s.event,u._id===n?N(u,o,s):o[0]._fci=r);q(t,e,N)}function B(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++)i=e[n],s=i.element,s&&(o=i.key=it(s[0]),u=a[o],u===t&&(u=a[o]=z(s,!0)),i.hsides=u)}function j(e){var t,n=e.length,r,i;for(t=0;t<n;t++)r=e[t],i=r.element,i&&(i[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px")}function F(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++)i=e[n],s=i.element,s&&(o=i.key,u=a[o],u===t&&(u=a[o]=K(s)),i.outerHeight=s[0].offsetHeight+u)}function I(){var e,t=h(),n=[];for(e=0;e<t;e++)n[e]=v(e).find("div.fc-day-content > div");return n}function R(e){var t,n=e.length,r=[];for(t=0;t<n;t++)r[t]=e[t][0].offsetTop;return r}function U(e,t){var n,r=e.length,s,o,u;for(n=0;n<r;n++)s=e[n],o=s.element,o&&(o[0].style.top=t[s.row]+(s.top||0)+"px",u=s.event,i("eventAfterRender",u,u,o))}function W(t,s,o){var a=r("isRTL"),d=a?"w":"e",v=s.find(".ui-resizable-"+d),m=!1;st(s),s.mousedown(function(e){e.preventDefault()}).click(function(e){m&&(e.preventDefault(),e.stopImmediatePropagation())}),v.mousedown(function(r){function P(n){i("eventResizeStop",this,t,n),e("body").css("cursor",""),v.stop(),L(),C&&c(this,t,C,0,n),setTimeout(function(){m=!1},0)}if(r.which!=1)return;m=!0;var v=n.getHoverListener(),g=h(),b=p(),w=a?-1:1,T=a?b-1:0,N=s.css("top"),C,O,_=e.extend({},t),D=E(t.start);A(),e("body").css("cursor",d+"-resize").one("mouseup",P),i("eventResizeStart",this,t,r),v.start(function(e,n){if(e){var r=Math.max(D.row,e.row),i=e.col;g==1&&(r=0),r==D.row&&(a?i=Math.min(D.col,i):i=Math.max(D.col,i)),C=r*7+i*w+T-(n.row*7+n.col*w+T);var s=y(u(t),C,!0);if(C){_.end=s;var c=O;O=M(x([_]),o.row,N),O.find("*").css("cursor",d+"-resize"),c&&c.remove(),l(t)}else O&&(f(t),O.remove(),O=null);L(),k(t.start,y(S(s),1))}},r)})}var n=this;n.renderDaySegs=O,n.resizableDayEvent=W;var r=n.opt,i=n.trigger,s=n.isEventDraggable,o=n.isEventResizable,u=n.eventEnd,a=n.reportEventElement,f=n.showEvents,l=n.hideEvents,c=n.eventResize,h=n.getRowCnt,p=n.getColCnt,d=n.getColWidth,v=n.allDayRow,m=n.allDayBounds,g=n.colContentLeft,b=n.colContentRight,w=n.dayOfWeekCol,E=n.dateCell,x=n.compileDaySegs,T=n.getDaySegmentContainer,N=n.bindDaySeg,C=n.calendar.formatDates,k=n.renderDayOverlay,L=n.clearOverlays,A=n.clearSelection}function xt(){function a(e,t,n){f(),t||(t=i(e,n)),s(e,t,n),l(e,t,n)}function f(e){u&&(u=!1,o(),r("unselect",null,e))}function l(e,t,n,i){u=!0,r("select",null,e,t,n,i)}function c(r){var i=t.cellDate,u=t.cellIsAllDay,a=t.getHoverListener(),c=t.reportDayClick;if(r.which==1&&n("selectable")){f(r);var h=this,p;a.start(function(e,t){o(),e&&u(e)?(p=[i(t),i(e)].sort(Z),s(p[0],p[1],!0)):p=null},r),e(document).one("mouseup",function(e){a.stop(),p&&(+p[0]==+p[1]&&c(p[0],!0,e),l(p[0],p[1],!0,e))})}}var t=this;t.select=a,t.unselect=f,t.reportSelection=l,t.daySelectionMousedown=c;var n=t.opt,r=t.trigger,i=t.defaultSelectionEnd,s=t.renderSelection,o=t.clearSelection,u=!1;n("selectable")&&n("unselectAuto")&&e(document).mousedown(function(t){var r=n("unselectCancel");if(r&&e(t.target).parents(r).length)return;f(t)})}function Tt(){function i(t,i){var s=r.shift();return s||(s=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),s[0].parentNode!=i[0]&&s.appendTo(i),n.push(s.css(t).show()),s}function s(){var e;while(e=n.shift())r.push(e.hide().unbind())}var t=this;t.renderOverlay=i,t.clearOverlays=s;var n=[],r=[]}function Nt(e){var t=this,n,r;t.build=function(){n=[],r=[],e(n,r)},t.cell=function(e,t){var i=n.length,s=r.length,o,u=-1,a=-1;for(o=0;o<i;o++)if(t>=n[o][0]&&t<n[o][1]){u=o;break}for(o=0;o<s;o++)if(e>=r[o][0]&&e<r[o][1]){a=o;break}return u>=0&&a>=0?{row:u,col:a}:null},t.rect=function(e,t,i,s,o){var u=o.offset();return{top:n[e][0]-u.top,left:r[t][0]-u.left,width:r[s][1]-r[t][0],height:n[i][1]-n[e][0]}}}function Ct(t){function u(e){kt(e);var n=t.cell(e.pageX,e.pageY);if(!n!=!o||n&&(n.row!=o.row||n.col!=o.col))n?(s||(s=n),i(n,s,n.row-s.row,n.col-s.col)):i(n,s),o=n}var n=this,r,i,s,o;n.start=function(n,a,f){i=n,s=o=null,t.build(),u(a),r=f||"mousemove",e(document).bind(r,u)},n.stop=function(){return e(document).unbind(r,u),o}}function kt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Lt(e){function o(t){return r[t]=r[t]||e(t)}var n=this,r={},i={},s={};n.left=function(e){return i[e]=i[e]===t?o(e).position().left:i[e]},n.right=function(e){return s[e]=s[e]===t?n.left(e)+o(e).width():s[e]},n.clear=function(){r={},i={},s={}}}var n={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},r={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},i=e.fullCalendar={version:"1.6.1"},s=i.views={};e.fn.fullCalendar=function(i){if(typeof i=="string"){var s=Array.prototype.slice.call(arguments,1),o;return this.each(function(){var n=e.data(this,"fullCalendar");if(n&&e.isFunction(n[i])){var r=n[i].apply(n,s);o===t&&(o=r),i=="destroy"&&e.removeData(this,"fullCalendar")}}),o!==t?o:this}var a=i.eventSources||[];return delete i.eventSources,i.events&&(a.push(i.events),delete i.events),i=e.extend(!0,{},n,i.isRTL||i.isRTL===t&&n.isRTL?r:{},i),this.each(function(t,n){var r=e(n),s=new u(r,i,a);r.data("fullCalendar",s),s.render()}),this},i.sourceNormalizers=[],i.sourceFetchers=[];var f={dataType:"json",cache:!1},l=1;i.addDays=y,i.cloneDate=S,i.parseDate=k,i.parseISO8601=L,i.parseTime=A,i.formatDate=O,i.formatDates=M;var h=["sun","mon","tue","wed","thu","fri","sat"],p=864e5,d=36e5,v=6e4,_={s:function(e){return e.getSeconds()},ss:function(e){return tt(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return tt(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return tt(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return tt(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return tt(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return tt(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return O(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return D(e)}};i.dateFormatters=_,i.applyAll=ft,s.month=ct,s.basicWeek=ht,s.basicDay=pt,o({weekMode:"fixed"}),s.agendaWeek=mt,s.agendaDay=gt,o({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery),define("fullcalendar",[],function(){}),define("moduls/dashboard/viewModels/Calendar",["knockout","jquery","text!./../templates/Calendar.html","vent","fullcalendar"],function(e,t,n,r){return function(){var e=this;e.afterRender=function(){var e={},n={event:{img:"/pages/img/ico_prize.png",cssClass:"event"},task:{img:"/pages/img/ico_dialog.png",cssClass:"task"},transaction:{img:"/pages/img/ico_funt.png",cssClass:"transaction"},summary:{img:"/pages/img/ico_graf.png",cssClass:"summary"}};t("#calendar").fullCalendar({header:{left:"prev,title,next",center:"month, agendaWeek, agendaDay",right:""},editable:!1,events:"/calendar/event",eventDrop:function(e,t){alert(e.title+" was moved "+t+" days\n"+"(should probably update your database)")},eventAfterRender:function(r,i){var s=i.closest("div"),o=r.start.toString()+"_"+r.type;e[o]?i.remove():e[o]=0,e[o]++;var u=n[r.type],a=t("<small>").text(e[o]),f=t("<img>").prop("src",u.img);i.empty().addClass(u.cssClass).append(f).append(a)},eventAfterAllRender:function(){e={}},eventClick:function(e,t,n){return e.type=="task"&&(document.location="#/tasks"),!1},loading:function(e){e?t("#loading").show():t("#loading").hide()}});var i='<ul class="menu_supplier" ><li style="margin : 0"><a href="#/calendar" class="butt edit calc"><img class="middle" src="/pages/img/icalc.png"> iCal</a></li><li><a href="#/calendar"><img src="/pages/img/suppl_hat.png"></a></li><li><a href="#/calendar"><img src="/pages/img/suppl_print.png"></a></li><li><a href="#/calendar"><img src="/pages/img/suppl_conv.png"></a></li><li><a href="#/calendar"><img src="/pages/img/suppl_cancel.png"></a></li><li><a href="#/calendar"><img src="/pages/img/suppl_message.png"></a></li><li><a class="video" href="#/calendar"><img src="/pages/img/suppl_kino.png"></a></li></ul>';t(".fc-header-right").append(i),t("a.video").click(function(){return r.trigger("showHowToVidio","income"),!1})},e.template=n}}),define("text!moduls/dashboard/templates/Insurance.html",[],function(){return'\n                    <div class="address_cont">\n                        <div class="contacts_item" id="insurance">\n                            <div class="left_right" data-bind="with : insurance">\n                                <div class="fleft">\n                                    <div>\n                                        <p data-bind="validationMessage: lifeAssuarence" class="validationMessage" style="float:left"></p>\n                                        <div class="clear"></div>\n                                    </div>\n                                    <div class="edit_info adress_page">\n                                        <span class="names_task">Life Assured:</span>\n                                        <input  size="80" maxlength="80" data-bind="value : lifeAssuarence" type="text" />\n                                    </div>\n                                    <div class="edit_info">\n                                        <span class="fleft names_task">Provider:</span>\n                                        <select data-bind="optionsCaption: \'Please select...\', options : $parent.insuranceCompanies, optionsText:\'name\', optionsValue : \'id\' ,value : insuranceCompany.id">\n                                        </select>\n                                    </div>\n                                    <div class="edit_info adress_page">\n                                        <span class="names_task">Payment Date:</span>\n                                        <input size="20" maxlength="20" data-bind="value : paymentDate" type="text" />\n                                    </div>\n                                    <div class="edit_info"  id="date2">\n                                        <span class="fleft names_task">Frequency:</span>\n                                        <select style="width : 100px" data-bind="optionsCaption: \'Please select...\', options : $parent.frequencyList, value : frequency">\n                                        </select>\n                                    </div>\n                                    <div class="edit_info"  id="date2">\n                                        <span class="fleft names_task">Paid From:</span>\n                                        <select data-bind="optionsCaption: \'Please select...\', options : $parent.bankAccounts, optionsValue : \'id\', optionsText : \'name\', value : bankAccount.id">\n                                        </select>\n                                    </div> \n                                    <div>\n                                        <p data-bind="validationMessage: cover" class="validationMessage" style="float:left"></p>\n                                        <div class="clear"></div>\n                                    </div>\n                                    <div class="edit_info adress_page">\n                                        <span class="names_task">Cover:</span>\n                                        <input size="80" maxlength="80" data-bind="value : cover"  type="text" />\n                                    </div>\n                                    <div>\n                                        <p data-bind="validationMessage: policyNumber" class="validationMessage" style="float:left"></p>\n                                        <div class="clear"></div>\n                                    </div>\n                                    <div class="edit_info adress_page">\n                                        <span class="names_task">Policy Number:</span>\n                                        <input size="80" maxlength="80" data-bind="value : policyNumber" type="text" /> \n                                    </div>\n                                </div>\n                                <div class="fright task_btns">\n\n                                    <div class="edit_info adress_page">\n                                        <span class="names_task">Start Date:</span>\n                                        <input data-bind="datepicker : startDate" type="text" /> \n                                    </div>\n                                    <div class="edit_info adress_page">\n                                        <span class="names_task">End Date:</span>\n                                        <input  data-bind="datepicker : endDate" type="text" /> \n                                    </div>\n                                    <div class="edit_info adress_page">\n                                        <span class="names_task">Payment Amount:</span>\n                                        <input size="80" maxlength="80" data-bind="value : paymentAmount" type="text" /> \n                                    </div>      \n                                     <div class="edit_info adress_page">\n                                        <span class="names_task">Purpose</span>\n                                        <input size="80" maxlength="80" data-bind="value : purpose" type="text" /> \n                                    </div>\n                                    <div class="inputs">\n                                        <input data-bind="click : $parent.save" type="button" value="Save" class="butt_add">\n                                    </div>\n                                </div>\n\n                            </div>\n                                <!-- ko with : notes -->\n                                <!-- ko template : { html : template } -->\n                                <!-- /ko -->\n                                <!-- /ko -->\n                        </div>\n                    </div>'}),define("text!moduls/widgets/templates/Notes.html",[],function(){return'<script type="text/template" id="note-view">\r\n<tr data-bind="click : $parent.edit">\r\n    <td data-bind="text : dateStr"></td>\r\n    <td >\r\n        <span data-bind="text : description"></span>\r\n    </td>\r\n    <td>\r\n        <a href="#" data-bind="click : $parent.remove"><img class="table_button" src="/pages/img/suppl_cancel.png"></a>\r\n    </td>\r\n</tr>\r\n</script>\r\n\r\n<script type="text/template" id="note-edit">\r\n<tr >\r\n    <td ><input style="width: 80px;" data-bind="datepicker : date" type="text" /></td>\r\n    <td ><input style="padding: 10 0 5 10;width: 380px;" data-bind="value : description"  type="text"/></td>\r\n    <td>\r\n        <a href="#" data-bind="click : $parent.save" ><img  class="table_button"  src="/pages/img/plus.png"></a>\r\n        <a href="#" data-bind="click : $parent.cansel"><img   class="table_button" src="/pages/img/suppl_cancel.png"></a>\r\n    </td>\r\n</tr>\r\n</script>\r\n\r\n    <div class="textarea_suppl notes" >\r\n        <table class="table table-bordered">\r\n            <thead>\r\n            <tr>\r\n                <th style="width: 110px;">DATES</th>\r\n                <th style="width: 380px;">NOTES</th>\r\n                <th></th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n\r\n            <!-- ko template : { name : displayMode, foreach:note  } -->\r\n            <!-- /ko -->\r\n            \r\n            <tr data-bind="click : addNote">\r\n                <td>click to add</td>\r\n                <td></td>\r\n                <td></td>\r\n            </tr>\r\n\r\n            </tbody>\r\n        </table>\r\n    </div>'}),define("moduls/widgets/viewModels/Notes",["knockout","jquery","text!./../templates/Notes.html"],function(e,t,n){var r=function(t){var n=this;n.date=e.observable(t.date),n.dateStr=e.computed(function(){var e=new Date(n.date()),t=e.getDate(),r=e.getMonth()+1,i=e.getFullYear();return i+"-"+r+"-"+t}),n.description=e.observable(t.description),n.template=e.observable(t.template||"note-view")};return function(t){var i=this;i.note=e.observableArray(e.utils.arrayMap(t||[],function(e){return new r(e)})),i.getNotes=e.computed(function(){return e.utils.arrayMap(i.note(),function(e){return{date:e.date(),description:e.description()}})}),i.setNotes=function(t){var n=e.observableArray(e.utils.arrayMap(t,function(e){return new r(e)}));i.note(n)},i.displayMode=function(e){return e.template()},i.addNote=function(){var e=new Date;i.note.push(new r({date:e,description:"",template:"note-edit"}))},i.cansel=function(e){e.template("note-view")},i.remove=function(e){i.note.remove(e)},i.save=function(e){e.template("note-view"),i.onSave()},i.onSave=function(){},i.edit=function(t){e.utils.arrayForEach(i.note(),function(e){e.template("note-view")}),t.template("note-edit")},i.template=n}}),define("moduls/widgets/start",["jquery","knockout","./viewModels/Notes"],function(e,t,n){return{Notes:n}}),define("moduls/dashboard/viewModels/Insurance",["knockout","jquery","text!./../templates/Insurance.html","vent","../../widgets/start","core"],function(e,t,n,r,i,s){var o=s.Model.extend({url:"/insurance",fields:{id:{},startDate:{},endDate:{},cover:{validation:{pattern:{params:/^\d{1,9}$/,message:"please use numeber ammount"}}},paymentDate:{},policyNumber:{validation:{pattern:/^\d{1,9}$/}},purpose:{},paymentAmount:{},lifeAssuarence:{validation:{pattern:/^[a-zA-Z]*$/}},bankAccount:{"default":{id:undefined}},frequency:{},insuranceCompany:{"default":{id:undefined}}}});return function(t){var r=this;t=t||{};var u=t.insurance||{};r.insurance=new o(u),r.save=function(){r.insurance.save(function(e){e.jsonValues.success||alert(e.jsonValues.message)})},r.insuranceCompanies=e.observableArray(t.provider||[]),r.frequencyList=e.observableArray(t.frequency||[]),r.bankAccounts=e.utils.arrayMap(t.bankaccount,function(e){return{id:e.id,name:(e.bank?e.bank.name:"-")+" "+(e.accountType?e.accountType.name:"-")}}),r.notes=e.observable(new i.Notes(u.notes)),r.saveNotes=e.computed(function(){var e=r.notes().getNotes();r.saveNotes&&s.ajax_post("/insurance/notes",e)}),r.template=n}}),define("text!moduls/dashboard/templates/ProductInfoTabs/Home.html",[],function(){return'<div  data-bind="with : insurance" class="overlay_provide" style="height:362px">\n    <div style="width: 260px;" class="providers_fisrt">\n        <p>\n            <span class="label_product"><strong>Provider</strong></span>\n            <span data-bind="text : provider">Pru Protetc</span>\n        </p>\n        <p>\n            <span class="label_product"><strong>Life Assured</strong></span>\n            <span data-bind="text : lifeAssuarence() ? lifeAssuarence() : \'-\'">Joe & Anne Bloggs</span>\n        </p>\n        <p>\n            <span class="label_product"><strong>Payment Date</strong></span>\n            <span data-bind="text : paymentDate">1st</span>\n        </p>\n        <p>\n            <span class="label_product"><strong>Frequency</strong></span>\n            <span data-bind="text : frequency() ? frequency() : \'-\'">Monthly</span>\n        </p>\n        <p>\n            <span class="label_product"><strong>Cover</strong></span>\n            <span data-bind="text : cover() ? cover() : \'-\'">£100,000</span>\n        </p>\n    </div>\n    <div class="providers_second" style="width: 240; overflow: hidden;">\n        <p>\n            <span class="label_product"><strong>Policy Number</strong></span>\n            <span data-bind="text : policyNumber() ? policyNumber() : \'-\'">1234-5678-9</span>\n        </p>\n        <p>\n            <span class="label_product"><strong>Start Date</strong></span>\n            <span data-bind="text : startDate">12/12/2012</span>\n        </p>\n        <p>\n            <span class="label_product"><strong>End Date</strong></span>\n            <span data-bind="text : endDate">13/13/2013</span>\n        </p>\n        <p>\n            <span class="label_product"><strong>Payment Amount</strong></span>\n            <span data-bind="text : paymentAmount() ? paymentAmount() : \'-\'">£22,12</span>\n        </p>\n        <p>\n            <span class="label_product"><strong>Paid From</strong></span>\n            <span data-bind="text : paidFrom">Bills Account</span>\n        </p>\n        <p>\n            <span class="label_product"><strong>Purpose</strong></span>\n            <span data-bind="text : purpose() ? purpose() : \'-\'">Mortgage</span>\n        </p>\n    </div>\n    <div class="clear"><br></div>\n    <!-- ko with : $parent.notes -->\n<!-- ko template : { html : template } -->\n<!-- /ko -->\n<!-- /ko -->\n</div>'}),define("moduls/dashboard/viewModels/ProductInfoTabs/Home",["knockout","jquery","text!./../../templates/ProductInfoTabs/Home.html","vent","ko.mapping","../../../widgets/start","core"],function(e,t,n,r,i,s,o){var u=function(e){var t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear();return t+"/"+n+"/"+r},a=function(e){i.fromJS(e,{},this),this.provider=e.insuranceCompany?e.insuranceCompany.name:"-",this.paymentDate=e.paymentDate?e.paymentDate:"-",this.startDate=e.startDate?u(new Date(e.startDate)):"-",this.endDate=e.endDate?u(new Date(e.endDate)):"-",this.paidFrom=e.bankAccount&&e.bankAccount.bank&&e.bankAccount.accountType?e.bankAccount.bank.name+" "+e.bankAccount.accountType.name:"-"};return function(t){var r=this,i=t.insurance;r.insurance=new a(i),r.notes=e.observable(new s.Notes(i.notes)),r.saveNotes=e.computed(function(){var e=r.notes().getNotes();r.saveNotes&&o.ajax_post("/insurance/notes",e)}),r.template=n}}),define("text!moduls/dashboard/templates/ProductInfoTabs/Contacts.html",[],function(){return' <div class="tab-pane" id="contacts">\n    <div class="overlay_provide" style="height:362px">\n        <div class="providers_fisrt">\n            <p>\n                <span class="label_product"><strong>Provider</strong></span>\n                <span>Pru Protetc</span>\n            </p>\n            <div class="overflo">\n                <span class="label_product fleft"><strong>Address</strong></span>\n                <div class="fleft">\n                    <p>Address Line 1</p>\n                    <p>Address Line 2</p>\n                    <p>Address Line 3</p>\n                </div>\n            </div>\n               <div class="add_buttns">\n                   <p class="task"><strong><a href="#"><img class="vertical" src="/pages/img/plus.png">Telephone Number</a></strong></p>\n                   <p class="task"><strong><a data-bind="click : addAddress" href="#"><img class="vertical" src="/pages/img/plus.png">Email Address</a></strong></p>\n               </div>\n        </div>\n\n        <div class="providers_second">\n            <div>\n                <p><strong>Telephone numbers</strong></p>\n                <table class="table product-contact" id="edit">\n                    <tbody>\n                    <!-- ko foreach : phones -->\n                    <tr>\n                        <td data-bind="text : name"></td>\n                        <td data-bind="text : description"></td>\n                        <td><a data-bind="click : $parent.removePhone" href="#">delete</a></td>\n                    </tr>\n                    <!-- /ko -->\n                    <tr >\n                        <td><input size="80" maxlength="80" data-bind="value : phoneName" type="text" /></td>\n                        <td><input size="80" maxlength="80" data-bind="value : phoneDescription" type="text" /></td>\n                        <td><a data-bind="click : addPhone" href="#">add</a></td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div>\n                <p><strong>Email addresses</strong></p>\n                <table  class="table product-contact" id="editor">\n                    <tbody>\n                        <!-- ko foreach: address -->\n                    <tr>\n                        <td data-bind="text : name"></td>\n                        <td data-bind="text : description"></td>\n                        <td><a data-bind="click : $parent.removeAddress" href="#">delete<a></td>\n                    </tr>\n                    <!-- /ko -->\n                    <tr>\n                        <td><input size="80" maxlength="80" data-bind="value : addressName" type="text"/></td>\n                        <td><input size="80" maxlength="80" data-bind="value : addressDescription" type="text"/></td>\n                        <td><a data-bind="click : addAddress" href=\'#\'>add</a></td>\n                    </tr>\n                </tbody>\n                </table>\n            </div>\n        </div>\n        <div class="clear"><br></div>\n        <!-- ko with : notes -->\n    <!-- ko template : { html : template } -->\n    <!-- /ko -->\n    <!-- /ko -->\n    </div>    \n</div>'}),define("moduls/dashboard/viewModels/ProductInfoTabs/Contacts",["knockout","jquery","text!./../../templates/ProductInfoTabs/Contacts.html","vent","ko.mapping","../../../widgets/start","core"],function(e,t,n,r,i,s,o){return function(t){var r=this;r.notes=e.observable(new s.Notes(t.insurance.notes||[])),r.saveNotes=e.computed(function(){var e=r.notes().getNotes();r.saveNotes&&o.ajax_post("/insurance/notes",e)}),r.address=e.observableArray(t.addresses),r.addressName=e.observable(""),r.addressDescription=e.observable(""),r.removeAddress=function(e){o.ajax_delete("/insurance/address/"+e.id,function(){r.address.remove(e)})},r.addAddress=function(){if(r.addressName()==""||r.addressDescription()=="")return;var e={name:r.addressName(),description:r.addressDescription()};o.ajax_post("/insurance/address",e,function(e){r.address.push(e),r.addressName(""),r.addressDescription("")})},r.phones=e.observableArray(t.phones),r.removePhone=function(e){o.ajax_delete("/insurance/phone/"+e.id,function(){r.phones.remove(e)})},r.phoneName=e.observable(""),r.phoneDescription=e.observable(""),r.addPhone=function(){if(r.phoneName()==""||r.phoneDescription()=="")return;var e={name:r.phoneName(),description:r.phoneDescription()};o.ajax_post("/insurance/phone",e,function(e){r.phones.push(e),r.phoneName(""),r.phoneDescription("")})},r.template=n}}),define("text!moduls/dashboard/templates/ProductInfoTabs/Documents.html",[],function(){return'<script type="text/template" id="view-folder">\n<li data-bind="css : { selectedFolder :  $parent.selectedFolderId() == id()}">\n    <a  data-bind="click : $parent.selectFolder, clickBubble : false, attr : { title : name }" href="#">\n        <img src="/pages/img/folder.png">\n    </a>\n    <a data-bind="click : $parent.selectFolder, clickBubble : false, attr : { title : name }" href="#">\n         <p class=\'folder-lable\' data-bind="text : name"></p> \n    </a>\n</li>\n</script>\n\n<script type="text/template" id="view-edit">\n<li data-bind="css : { selectedFolder :  $parent.selectedFolderId() == id()}">\n    <a  data-bind="click : $parent.selectFolder, clickBubble : false" href="#">\n        <img src="/pages/img/folder.png">\n    </a>\n    <a data-bind="click : $parent.selectFolder, clickBubble : false" href="#">\n        <input class="folder-name" style="width : 100px" data-bind="value : name, event : { change : $parent.changeFolder}"></input>\n    </a>\n</li>\n</script>\n\n\n<div class="tab-pane active" id="documents">\n    <div class="overlay_provide" style="height:362px">\n        <div id="folder-container" style="overflow:hidden; height : 90px; position: relative">\n\n        <ul id="folder-inner" style="position : absolute; height : 100%;" class="folders overflo" \n        data-bind="click : unselect, template : { name : displayMode, foreach : folders }">\n            \n        </ul>\n\n        </div>\n        <div class="clear"></div>\n        <div id="red"></div>\n        <ul  style="min-height: 58px;" class="docs overflo" data-bind=" foreach : files">\n            <li data-bind="css : { selectedFolder :  $parent.selectedFileId() == id}">\n                <a data-bind="attr : { href : path }, click : $parent.selectFile, event : { dblclick: $parent.downloadFile }"  ><img data-bind="attr : { src : $parent.calculateSrc(type) }" ></a>\n                <a  data-bind="attr : { href : path }, click : $parent.selectFile, event : { dblclick: $parent.downloadFile }" ><p class="file-ldable" data-bind="text : name"></p></a>\n            </li>\n        </ul>\n        <div id="photo-upload"></div>\n    <!-- ko with : notes -->\n    <!-- ko template : { html : template } -->\n    <!-- /ko -->\n    <!-- /ko -->\n    </div>\n    \n</div>'});var qq=qq||{};qq.extend=function(e,t){for(var n in t)e[n]=t[n]},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var r=e.length;n<0&&(n+=r);for(;n<r;n++)if(n in e&&e[n]===t)return n;return-1},qq.getUniqueId=function(){var e=0;return function(){return e++}}(),qq.attach=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},qq.detach=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n)},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.insertBefore=function(e,t){t.parentNode.insertBefore(e,t)},qq.remove=function(e){e.parentNode.removeChild(e)},qq.contains=function(e,t){return e==t?!0:e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&8)},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.css=function(e,t){t.opacity!=null&&typeof e.style.opacity!="string"&&typeof e.filters!="undefined"&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t)},qq.hasClass=function(e,t){var n=new RegExp("(^| )"+t+"( |$)");return n.test(e.className)},qq.addClass=function(e,t){qq.hasClass(e,t)||(e.className+=" "+t)},qq.removeClass=function(e,t){var n=new RegExp("(^| )"+t+"( |$)");e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,"")},qq.setText=function(e,t){e.innerText=t,e.textContent=t},qq.children=function(e){var t=[],n=e.firstChild;while(n)n.nodeType==1&&t.push(n),n=n.nextSibling;return t},qq.getByClass=function(e,t){if(e.querySelectorAll)return e.querySelectorAll("."+t);var n=[],r=e.getElementsByTagName("*"),i=r.length;for(var s=0;s<i;s++)qq.hasClass(r[s],t)&&n.push(r[s]);return n},qq.obj2url=function(e,t,n){var r=[],i="&",s=function(e,n){var i=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;i!="undefined"&&n!="undefined"&&r.push(typeof e=="object"?qq.obj2url(e,i,!0):Object.prototype.toString.call(e)==="[object Function]"?encodeURIComponent(i)+"="+encodeURIComponent(e()):encodeURIComponent(i)+"="+encodeURIComponent(e))};if(!n&&t)i=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",r.push(t),r.push(qq.obj2url(e));else if(Object.prototype.toString.call(e)==="[object Array]"&&typeof e!="undefined")for(var o=0,u=e.length;o<u;++o)s(e[o],o);else if(typeof e!="undefined"&&e!==null&&typeof e=="object")for(var o in e)s(e[o],o);else r.push(encodeURIComponent(t)+"="+encodeURIComponent(e));return r.join(i).replace(/^&/,"").replace(/%20/g,"+")};var qq=qq||{};qq.FileUploaderBasic=function(e){this._options={debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(e,t){},onProgress:function(e,t,n,r){},onComplete:function(e,t,n){},onCancel:function(e,t){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(e){alert(e)}},qq.extend(this._options,e),this._filesInProgress=0,this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FileUploaderBasic.prototype={setParams:function(e){this._options.params=e},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(e){var t=this;return new qq.UploadButton({element:e,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(e){t._onInputChange(e)}})},_createUploadHandler:function(){var e=this,t;qq.UploadHandlerXhr.isSupported()?t="UploadHandlerXhr":t="UploadHandlerForm";var n=new qq[t]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(t,n,r,i){e._onProgress(t,n,r,i),e._options.onProgress(t,n,r,i)},onComplete:function(t,n,r){e._onComplete(t,n,r),e._options.onComplete(t,n,r)},onCancel:function(t,n){e._onCancel(t,n),e._options.onCancel(t,n)}});return n},_preventLeaveInProgress:function(){var e=this;qq.attach(window,"beforeunload",function(t){if(!e._filesInProgress)return;var t=t||window.event;return t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_onSubmit:function(e,t){this._filesInProgress++},_onProgress:function(e,t,n,r){},_onComplete:function(e,t,n){this._filesInProgress--,n.error&&this._options.showMessage(n.error)},_onCancel:function(e,t){this._filesInProgress--},_onInputChange:function(e){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(e.files):this._validateFile(e)&&this._uploadFile(e),this._button.reset()},_uploadFileList:function(e){for(var t=0;t<e.length;t++)if(!this._validateFile(e[t]))return;for(var t=0;t<e.length;t++)this._uploadFile(e[t])},_uploadFile:function(e){var t=this._handler.add(e),n=this._handler.getName(t);this._options.onSubmit(t,n)!==!1&&(this._onSubmit(t,n),this._handler.upload(t,this._options.params))},_validateFile:function(e){var t,n;return e.value?t=e.value.replace(/.*(\/|\\)/,""):(t=e.fileName!=null?e.fileName:e.name,n=e.fileSize!=null?e.fileSize:e.size),this._isAllowedExtension(t)?n===0?(this._error("emptyError",t),!1):n&&this._options.sizeLimit&&n>this._options.sizeLimit?(this._error("sizeError",t),!1):n&&n<this._options.minSizeLimit?(this._error("minSizeError",t),!1):!0:(this._error("typeError",t),!1)},_error:function(e,t){function r(e,t){n=n.replace(e,t)}var n=this._options.messages[e];r("{file}",this._formatFileName(t)),r("{extensions}",this._options.allowedExtensions.join(", ")),r("{sizeLimit}",this._formatSize(this._options.sizeLimit)),r("{minSizeLimit}",this._formatSize(this._options.minSizeLimit)),this._options.showMessage(n)},_formatFileName:function(e){return e.length>33&&(e=e.slice(0,19)+"..."+e.slice(-13)),e},_isAllowedExtension:function(e){var t=-1!==e.indexOf(".")?e.replace(/.*[.]/,"").toLowerCase():"",n=this._options.allowedExtensions;if(!n.length)return!0;for(var r=0;r<n.length;r++)if(n[r].toLowerCase()==t)return!0;return!1},_formatSize:function(e){var t=-1;do e/=1024,t++;while(e>99);return Math.max(e,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][t]}},qq.FileUploader=function(e){qq.FileUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload</span></div><div class="qq-upload-button">Upload a file</div><ul class="qq-upload-list"></ul></div>',fileTemplate:'<li><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">Cancel</a><span class="qq-upload-failed-text">Failed</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}}),qq.extend(this._options,e),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button=this._createUploadButton(this._find(this._element,"button")),this._bindCancelEvent(),this._setupDragDrop()},qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype),qq.extend(qq.FileUploader.prototype,{_find:function(e,t){var n=qq.getByClass(e,this._options.classes[t])[0];if(!n)throw new Error("element not found "+t);return n},_setupDragDrop:function(){var e=this,t=this._find(this._element,"drop"),n=new qq.UploadDropZone({element:t,onEnter:function(n){qq.addClass(t,e._classes.dropActive),n.stopPropagation()},onLeave:function(e){e.stopPropagation()},onLeaveNotDescendants:function(n){qq.removeClass(t,e._classes.dropActive)},onDrop:function(n){t.style.display="none",qq.removeClass(t,e._classes.dropActive),e._uploadFileList(n.dataTransfer.files)}});t.style.display="none",qq.attach(document,"dragenter",function(e){if(!n._isValidFileDrag(e))return;t.style.display="block"}),qq.attach(document,"dragleave",function(e){if(!n._isValidFileDrag(e))return;var r=document.elementFromPoint(e.clientX,e.clientY);if(!r||r.nodeName=="HTML")t.style.display="none"})},_onSubmit:function(e,t){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onProgress:function(e,t,n,r){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var i=this._getItemByFileId(e),s=this._find(i,"size");s.style.display="inline";var o;n!=r?o=Math.round(n/r*100)+"% from "+this._formatSize(r):o=this._formatSize(r),qq.setText(s,o)},_onComplete:function(e,t,n){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var r=this._getItemByFileId(e);qq.remove(this._find(r,"cancel")),qq.remove(this._find(r,"spinner")),n.success?qq.addClass(r,this._classes.success):qq.addClass(r,this._classes.fail)},_addToList:function(e,t){var n=qq.toElement(this._options.fileTemplate);n.qqFileId=e;var r=this._find(n,"file");qq.setText(r,this._formatFileName(t)),this._find(n,"size").style.display="none",this._listElement.appendChild(n)},_getItemByFileId:function(e){var t=this._listElement.firstChild;while(t){if(t.qqFileId==e)return t;t=t.nextSibling}},_bindCancelEvent:function(){var e=this,t=this._listElement;qq.attach(t,"click",function(t){t=t||window.event;var n=t.target||t.srcElement;if(qq.hasClass(n,e._classes.cancel)){qq.preventDefault(t);var r=n.parentNode;e._handler.cancel(r.qqFileId),qq.remove(r)}})}}),qq.UploadDropZone=function(e){this._options={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(this._options,e),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_disableDropOutside:function(e){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var e=this;qq.attach(e._element,"dragover",function(t){if(!e._isValidFileDrag(t))return;var n=t.dataTransfer.effectAllowed;n=="move"||n=="linkMove"?t.dataTransfer.dropEffect="move":t.dataTransfer.dropEffect="copy",t.stopPropagation(),t.preventDefault()}),qq.attach(e._element,"dragenter",function(t){if(!e._isValidFileDrag(t))return;e._options.onEnter(t)}),qq.attach(e._element,"dragleave",function(t){if(!e._isValidFileDrag(t))return;e._options.onLeave(t);var n=document.elementFromPoint(t.clientX,t.clientY);if(qq.contains(this,n))return;e._options.onLeaveNotDescendants(t)}),qq.attach(e._element,"drop",function(t){if(!e._isValidFileDrag(t))return;t.preventDefault(),e._options.onDrop(t)})},_isValidFileDrag:function(e){var t=e.dataTransfer,n=navigator.userAgent.indexOf("AppleWebKit")>-1;return t&&t.effectAllowed!="none"&&(t.files||!n&&t.types.contains&&t.types.contains("Files"))}},qq.UploadButton=function(e){this._options={element:null,multiple:!1,name:"file",onChange:function(e){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,e),this._element=this._options.element,qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input),qq.removeClass(this._element,this._options.focusClass),this._input=this._createInput()},_createInput:function(){var e=document.createElement("input");this._options.multiple&&e.setAttribute("multiple","multiple"),e.setAttribute("type","file"),e.setAttribute("name",this._options.name),qq.css(e,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(e);var t=this;return qq.attach(e,"change",function(){t._options.onChange(e)}),qq.attach(e,"mouseover",function(){qq.addClass(t._element,t._options.hoverClass)}),qq.attach(e,"mouseout",function(){qq.removeClass(t._element,t._options.hoverClass)}),qq.attach(e,"focus",function(){qq.addClass(t._element,t._options.focusClass)}),qq.attach(e,"blur",function(){qq.removeClass(t._element,t._options.focusClass)}),window.attachEvent&&e.setAttribute("tabIndex","-1"),e}},qq.UploadHandlerAbstract=function(e){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(e,t,n,r){},onComplete:function(e,t,n){},onCancel:function(e,t){}},qq.extend(this._options,e),this._queue=[],this._params=[]},qq.UploadHandlerAbstract.prototype={log:function(e){this._options.debug&&window.console&&console.log("[uploader] "+e)},add:function(e){},upload:function(e,t){var n=this._queue.push(e),r={};qq.extend(r,t),this._params[e]=r,n<=this._options.maxConnections&&this._upload(e,this._params[e])},cancel:function(e){this._cancel(e),this._dequeue(e)},cancelAll:function(){for(var e=0;e<this._queue.length;e++)this._cancel(this._queue[e]);this._queue=[]},getName:function(e){},getSize:function(e){},getQueue:function(){return this._queue},_upload:function(e){},_cancel:function(e){},_dequeue:function(e){var t=qq.indexOf(this._queue,e);this._queue.splice(t,1);var n=this._options.maxConnections;if(this._queue.length>=n&&t<n){var r=this._queue[n-1];this._upload(r,this._params[r])}}},qq.UploadHandlerForm=function(e){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(e){e.setAttribute("name","qqfile");var t="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[t]=e,e.parentNode&&qq.remove(e),t},getName:function(e){return this._inputs[e].value.replace(/.*(\/|\\)/,"")},_cancel:function(e){this._options.onCancel(e,this.getName(e)),delete this._inputs[e];var t=document.getElementById(e);t&&(t.setAttribute("src","javascript:false;"),qq.remove(t))},_upload:function(e,t){var n=this._inputs[e];if(!n)throw new Error("file with passed id was not added, or already uploaded or cancelled");var r=this.getName(e),i=this._createIframe(e),s=this._createForm(i,t);s.appendChild(n);var o=this;return this._attachLoadEvent(i,function(){o.log("iframe loaded");var t=o._getIframeContentJSON(i);o._options.onComplete(e,r,t),o._dequeue(e),delete o._inputs[e],setTimeout(function(){qq.remove(i)},1)}),s.submit(),qq.remove(s),e},_attachLoadEvent:function(e,t){qq.attach(e,"load",function(){if(!e.parentNode)return;if(e.contentDocument&&e.contentDocument.body&&e.contentDocument.body.innerHTML=="false")return;t()})},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(err){response={}}return response},_createIframe:function(e){var t=qq.toElement('<iframe src="javascript:false;" name="'+e+'" />');return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t},_createForm:function(e,t){var n=qq.toElement('<form method="post" enctype="multipart/form-data"></form>'),r=qq.obj2url(t,this._options.action);return n.setAttribute("action",r),n.setAttribute("target",e.name),n.style.display="none",document.body.appendChild(n),n}}),qq.UploadHandlerXhr=function(e){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var e=document.createElement("input");return e.type="file","multiple"in e&&typeof File!="undefined"&&typeof (new XMLHttpRequest).upload!="undefined"},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(e){if(e instanceof File)return this._files.push(e)-1;throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)")},getName:function(e){var t=this._files[e];return t.fileName!=null?t.fileName:t.name},getSize:function(e){var t=this._files[e];return t.fileSize!=null?t.fileSize:t.size},getLoaded:function(e){return this._loaded[e]||0},_upload:function(e,t){var n=this._files[e],r=this.getName(e),i=this.getSize(e);this._loaded[e]=0;var s=this._xhrs[e]=new XMLHttpRequest,o=this;s.upload.onprogress=function(t){t.lengthComputable&&(o._loaded[e]=t.loaded,o._options.onProgress(e,r,t.loaded,t.total))},s.onreadystatechange=function(){s.readyState==4&&o._onComplete(e,s)},t=t||{},t.qqfile=r;var u=qq.obj2url(t,this._options.action);s.open("POST",u,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("X-File-Name",encodeURIComponent(r)),s.setRequestHeader("Content-Type",n.type),s.send(n)},_onComplete:function(id,xhr){if(!this._files[id])return;var name=this.getName(id),size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200){this.log("xhr - server response received"),this.log("responseText = "+xhr.responseText);var response;try{response=eval("("+xhr.responseText+")")}catch(err){response={}}this._options.onComplete(id,name,response)}else this._options.onComplete(id,name,{});this._files[id]=null,this._xhrs[id]=null,this._dequeue(id)},_cancel:function(e){this._options.onCancel(e,this.getName(e)),this._files[e]=null,this._xhrs[e]&&(this._xhrs[e].abort(),this._xhrs[e]=null)}}),define("qq",function(e){return function(){var t,n;return t||e.qq}}(this)),define("moduls/dashboard/viewModels/ProductInfoTabs/Documents",["knockout","jquery","text!./../../templates/ProductInfoTabs/Documents.html","vent","ko.mapping","../../../widgets/start","core","qq","jquery-ui"],function(e,t,n,r,i,s,o,u){function a(){var e=t("#red").slider("value");t("#folder-inner").css("left",-e+"px")}return e.observableArray.fn.pushAll=function(t){var n=this();return this.valueWillMutate(),e.utils.arrayPushAll(n,t),this.valueHasMutated(),this},function(i){var f=this;f.notes=e.observable(new s.Notes(i.insurance.notes||[])),f.selectedFolderId=e.observable(""),r.on("deleteFileOrFolder",function(){if(!confirm("are your sure?"))return;f.selectedFileId()!=""?o.ajax_delete("/user/file?fileId="+f.selectedFileId(),function(){var t=e.utils.arrayFirst(f.files(),function(e){return e.id==f.selectedFileId()});f.files.remove(t)}):o.ajax_delete("/user/folder?folderId="+f.selectedFolderId(),function(e){f.folders.remove(f.selectedFolder()),l()})}),r.on("createFolder",function(){var n=e.observableArray([{id:e.observable("0"),name:e.observable(""),path:"new",template:e.observable("view-edit")}]);n.pushAll(f.folders()),f.folders(n()),t(".folder-name").select(),l()});var l=function(){var e=t("#folder-container").width(),n=103*f.folders().length;t("#folder-inner").width(n+100+"px");var r=n-e;r<0&&(r=0),t("#red").slider("option","max",r),t("#red").slider("value",0)};f.afterRender=function(){t("#red").slider({orientation:"horizontal",range:"min",max:0,value:0,slide:a,change:a}),l(),f.qq=new u.FileUploader({element:t("#photo-upload")[0],action:"/user/uploadFile",params:{path:""},onComplete:function(e,n,r){var i=f.selectedFolderId();i==""&&(i="0"),t.get("/user/file/"+i,f.files),t(".qq-upload-list").hide()},template:'<div class="qq-uploader"><pre class="qq-upload-drop-area"><span></span></pre><div class="qq-upload-button"><button  class="grey_button " type="button" >add file</button></div><ul class="qq-upload-list" style="margin-top: 10px; text-align: center;"></ul></div>'})},f.showVideo=function(){r.trigger("showHowToVidio","income")},f.saveNotes=e.computed(function(){var e=f.notes().getNotes();f.saveNotes&&o.ajax_post("/insurance/notes",e)}),f.calculateSrc=function(e){return e=="report"?"/pages/img/report.png":e=="pfr"?"/pages/img/pfr.png":e=="xls"?"/pages/img/xls.png":"/pages/img/cover.png"},f.folders=e.observableArray(e.utils.arrayMap(i.folders,function(t){return t.id=e.observable(t.id),t.name=e.observable(t.name),t.template=e.observable("view-folder"),t})),f.selectedFolder=e.computed(function(){var t=e.utils.arrayFirst(f.folders(),function(e){return e.id()==f.selectedFolderId()});return t?t:{id:e.observable("0"),name:e.observable("")}}),f.selectFolder=function(e){f.selectedFolderId(e.id()),f.selectedFileId("")},f.unselect=function(){f.selectedFolderId(""),f.selectedFileId("")},f.edit=function(){t("#documents").hasClass("active")||(document.location="#/insurance"),f.folders.push({id:e.observable("0"),name:e.observable(""),path:"new",template:e.observable("view-edit")}),t(".folder-name").select()},f.changeFolder=function(e){o.ajax_post("/user/folder/"+e.name(),{},function(t){t.jsonValues.success?(e.id(t.id),e.template("view-folder")):f.folders.remove(e)})},f.displayMode=function(e){return e.template()},f.files=e.observableArray([]),e.computed(function(){var e=f.selectedFolder();f.qq&&f.qq.setParams({path:e.name()}),t.get("/user/file/"+e.id(),f.files)}),f.selectedFileId=e.observable(""),f.folders().length>0&&f.selectedFolderId(f.folders()[0].id()),f.selectFile=function(e){f.selectedFileId(e.id)},f.downloadFile=function(e){var t=e.path.split("/file"),n="file"+t[1]+e.systemName;window.open(n,"_blank")},f.template=n}}),define("text!moduls/dashboard/templates/ProductInfoTabs/Payhistory.html",[],function(){return'<div class="tab-pane" id="payhistory">\n    <div class="">\n        <div class="textarea_suppl table_top">\n            <table data-bind="dataTable: { \n                    options : {\n                        bPaginate: false,\n                        bProcessing: true,\n                        bInfo : false,\n                        bServerSide: true,\n                        bLengthChange  : false,\n                        bScrollCollapse: true,\n                        sAjaxSource : \'/insurance/listPayment\' ,\n                        aoColumns : payhistoryColumns\n                    }\n                }" class="table table-bordered">\n            </table>\n\n        </div>\n        <div class="last_reconcl">Last time you reconclied these payments: 01/08/2008</div>\n    </div>\n    <!-- ko with : notes -->\n    <!-- ko template : { html : template } -->\n    <!-- /ko -->\n    <!-- /ko -->\n</div>'}),define("moduls/dashboard/viewModels/ProductInfoTabs/Payhistory",["knockout","jquery","text!./../../templates/ProductInfoTabs/Payhistory.html","vent","ko.mapping","../../../widgets/start","core"],function(e,t,n,r,i,s,o){return function(t){var r=this;r.notes=e.observable(new s.Notes(t.insurance.notes)),r.saveNotes=e.computed(function(){var e=r.notes().getNotes();r.saveNotes&&o.ajax_post("/insurance/notes",e)}),r.payhistoryColumns=[{sTitle:"DATES",mData:"date",bSortable:!1},{sTitle:"NOTES",mData:"description",bSortable:!1}],r.template=n}}),define("text!moduls/dashboard/templates/ProductInfoTabs/Сompare.html",[],function(){return'    <div class="compare_pay">\n         <div class="compare_content">\n              <h2 class="red">Joe, we\'ve found 14 polcies from £10.90 per month</h2>\n             <p><small>You have searched for: <strong>Single, Life Insurance with Critical Illness </strong>cover for <strong>£100,000.00</strong>, over <strong>15 years.</strong></small></p>\n             <table class="compare_table">\n                  <thead>\n                  <tr>\n                      <td><p>Insurance</p><p>Company</p></td>\n                      <td><p>Monthly</p><p>Payment</p></td>\n                      <td><p>Could my</p><p>payment</p><p>changes?</p></td>\n                      <td style="width: 200px"><p>Policy Features</p><p class="nobold">(see policy documents for full details)<a href="#"><img src="/pages/img/question.png"></a></p></td>\n                      <td><p>Make Y&ouml;r</p><p>Choise</p></td>\n                  </tr>\n                  </thead>\n                 <tbody data-bind="foreach : compareSave">\n                    <tr>\n                        <td class="insur_logo"><img data-bind="attr : { src : path_imageBrend }"></td>\n                        <td class="blue_color"><h1><strong data-bind=" text : \'£\' + payment_monthly"></strong></h1></td>\n                        <td><strong><p data-bind="text : paymentChanges ? \'No\' : \'Yes\'">No</p></strong><p>(guaranteed)</p></td>\n                        <td class="text-left" data-bind="html : policyFeatures"></td>\n                         <td class="check">\n                          <input  data-bind="attr : { id : \'ch\' + $index() }" class="css-checkbox" type="checkbox" />\n                          <label  data-bind="attr : { for : \'ch\' + $index() }" name="demo_lbl_1" class="css-label"></label>\n                          <!-- Checkbox powered by CssCheckbox.com -->\n                          <p><a href="#">Read policy</a></p>\n                          <p><a href="#">Documents</a></p>\n                      </td>\n                    </tr>   \n                 </tbody>\n             </table>\n         </div>\n    </div>\n    <div class="textarea_compare">\n         <div class="fleft premium">\n             <p>Y&ouml;r Current Premium = £23.98</p>\n             <p>Y&ouml;r Proposed Premium = £11.55</p>\n         </div>\n         <div class="fleft green center">\n             <h2>Y&ouml;r Saving</h2>\n             <p><strong>£12.98 p.c.m.</strong></p>\n             <p><strong>£141.55 p.a.</strong></p>\n         </div>\n         <div class="fright">\n             <div href="#" class="butt_big green_btn_big">\n                 <p>Buy Y&ouml;r</p>\n                 <p>Policy</p>\n             </div>\n         </div>\n\n    </div>\n'}),define("moduls/dashboard/viewModels/ProductInfoTabs/Сompare",["knockout","jquery","text!./../../templates/ProductInfoTabs/Сompare.html"],function(e,t,n){return function(t){var r=this;r.compareSave=e.observableArray(t.compareSave),r.template=n}}),define("text!moduls/dashboard/templates/AdressBook.html",[],function(){return'\r\n                  <div class="left_butts">\r\n                      <ul data-bind="foreach : abc">\r\n                          <li data-bind="css : { active : $data == $parent.letter() }">\r\n                            <a data-bind="click : $parent.select, text : $data" href="#" ></a>\r\n                          </li>\r\n                      </ul>\r\n                  </div>\r\n                  <div class="address_cont fright">\r\n                      <div class="fright">\r\n                          <ul class="menu_supplier">\r\n                              <li><a title=\'add new address\' data-bind="click : add" href="#"><img src="/pages/img/suppl_message.png"></a></li>\r\n                              <li><a title=\'show video tutorial\' data-bind="click : helpVideo" href="#"><img src="/pages/img/suppl_kino.png"></a></li>\r\n                          </ul>\r\n                      </div>\r\n                      <div class="clear"></div>\r\n\r\n                <div data-bind="foreach : items"  style="height: 500px; width: 610px; overflow: auto;">\r\n                      <div data-bind="validationOptions: { insertMessages: false }" class="contacts_item adrress_width">\r\n                          <div class="left_right adress_page">\r\n                              <div class="fleft">\r\n                                <div>\r\n                                        <p data-bind="validationMessage: name" class="validationMessage" style="float:left">Please enter a valid date</p>\r\n                                        <div class="clear"></div>\r\n                                    </div>\r\n                                  <div class="edit_info">\r\n                                      <span class="names_edit">Company/Name:</span>\r\n                                      <input size="30" maxlength="30" data-bind="value : name" type="text" value="Wayne Hodkinson">\r\n                                  </div>\r\n                                  <div style="overflow: hidden">\r\n                                        <p data-bind="validationMessage: phone" class="validationMessage" style="float:left">*</p>\r\n                                  </div>\r\n                                  <div class="edit_info">\r\n                                      <span class="names_edit">Tel:</span>\r\n                                      <input size="9" maxlength="9"  data-bind="value : phone"  type="text" value="01234 567890">\r\n                                  </div>\r\n                                  <div class="edit_info">\r\n                                      <span class="fleft names_edit">Address:</span>\r\n                                      <textarea size="80" maxlength="80" data-bind="value : address" cols="23" rows="4">123 Any Road, Randomsvile, Yourshire, AB1 2DC</textarea>\r\n                                  </div>\r\n                                  \r\n                                  \r\n                                  <div>\r\n                                        <p data-bind="validationMessage: email" class="validationMessage" style="float:left">Please enter a valid date</p>\r\n                                        <div class="clear"></div>\r\n                                    </div>\r\n                                  <div class="edit_info">\r\n                                      <span class="names_edit">Email:</span>\r\n                                      <input size="50" maxlength="50"  data-bind="value : email" type="text" value="wayne@yor.co.uk">\r\n                                  </div>\r\n                                  <div>\r\n                                        <p data-bind="validationMessage: webaddress" class="validationMessage" style="float:left">Please enter a valid date</p>\r\n                                        <div class="clear"></div>\r\n                                    </div>\r\n                                  <div class="edit_info">\r\n                                      <span class="names_edit">Web Address:</span>\r\n                                      <input size="80" maxlength="80"  data-bind="value : webaddress" type="text" value="http://www.yor.co.uk">\r\n                                  </div>\r\n                                  <div class="edit_info">\r\n                                      <span class="names_edit">Social Media:</span>\r\n                              <span>\r\n                                  <a href="#"><img src="/pages/img/facebook.png"></a>\r\n                                  <a href="#"><img src="/pages/img/tweetr.png"></a>\r\n                              </span>\r\n                                  </div>\r\n                              </div>\r\n                              <a title="remove address" data-bind="click : $parent.delete" href="#"><img src="/pages/img/suppl_cancel.png"></a>\r\n                              <div class="fright ivan_portrait">\r\n\r\n                                  <img src="/pages/img/ivan.png">\r\n                                  <p><strong>Birthday</strong></p>\r\n                                  <p>09/10/1978</p>\r\n\r\n                              </div>\r\n<div class="inputs">\r\n                                        <input style="width: 111px; margin: 0 0 0 40px;" data-bind="click : $parent.save" type="button" value="Save" class="butt_add">\r\n                                    </div>\r\n\r\n                          </div>\r\n <!-- ko with : notes -->\r\n                                <!-- ko template : { html : template } -->\r\n                                <!-- /ko -->\r\n                                <!-- /ko -->\r\n\r\n                  </div>\r\n                </div>\r\n                <!-- <div class="budget">\r\n                    <div class="fleft white">BUDGET £ 1,000.00</div>\r\n                    <div class="fright green">ACTUAL £500.00</div>\r\n                </div> -->\r\n            </div>'}),define("moduls/dashboard/viewModels/AdressBook",["knockout","jquery","text!./../templates/AdressBook.html","core","vent","../../widgets/start"],function(e,t,n,r,i,s){var o=r.Model.extend({url:"/addressbook",fields:{id:{},name:{"default":"",validation:{required:!0}},phone:{"default":"",validation:{pattern:/^\d{1,9}$/}},email:{"default":"",validation:{required:!0,email:{message:"please use valid email address"}}},address:{"default":""},webaddress:{"default":"",validation:{pattern:/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/}}},initialize:function(t){var n=[];t&&t.note&&(n=t.note),this.notes=e.observable(new s.Notes(n)),this.note=e.computed(function(){return this.notes().getNotes()},this)}});return function(){var t=this;t.letter=e.observable("A"),t.abc=e.observableArray(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),t.select=function(e){t.letter(e)},t.helpVideo=function(){i.trigger("showHowToVidio","income")},e.computed(function(){var n=t.letter();if(n=="new")return;r.ajax_post("/addressbook/list/"+n,{},function(n){var r=e.utils.arrayMap(n,function(e){return new o(e)});t.items(r)})}),t.add=function(){t.letter("new"),t.items([new o])},t.delete=function(e){r.ajax_post("/addressbook/delete",{id:e.id},function(n){t.items.remove(e)})},t.save=function(e){e.save(function(n){if(!n)return;e.id(n.id),t.letter(e.name()[0].toUpperCase())})},t.items=e.observableArray([]),t.template=n}}),define("text!moduls/dashboard/templates/home.html",[],function(){return'<script type="text/template" id="transition-row">\n    <td class="center" data-bind="text : description"></td>\n    <td class="center" data-bind="text : date"></td>\n    <td class="center" data-bind="text : \'£\' + number"></td>\n    <td class="center"><img src="/pages/img/memo.png"></td>\n</script>\n\n<script type="text/template" id="task-row">\n<td class="center" data-bind="text : title"></td>\n<td class="center"><a data-bind="attr : { href : \'#/tasks/\' + id }"><p class=\'marker\' href="#" data-toggle="tooltip" data-placement="top" title=""\n                                                              data-original-title="Golf Club\nRenew membership\n\nCall 01234 567 890\nBefore: 01/09/2012">View </p><a/></td>\n</script>\n\n<script type="text/template" id="event-row">\n     <td class="center" data-bind="text : title"></td>\n     <td class="center" data-bind="text : start"></td>\n     <td class="center" data-bind="text : \'£\' + amount"></td>\n     <td class="center">\n        <a class=\'marker\' href="#"><img src="/pages/img/memo.png"> </a>\n     </td>\n</script>\n\n<div class="overflo">\n    <div class="fleft">\n        <h2>Y&ouml;r - Home</h2>\n    </div>\n    <div class="fright">\n        <ul class="menu_supplier">\n            <li>\n                <a title="calendar" href="#/calendar">\n                    <img src="/pages/img/suppl_hat.png" />\n                </a>\n           </li>\n           <li>\n                <a title="address book" href="#/address">\n                    <img src="/pages/img/suppl_conv.png" />\n                </a>\n           </li>\n           <li>\n                <a title="wizards" href="#/registration2"><img src="/pages/img/suppl_message.png"></a>\n            </li>\n            <li>\n                <a title=\'show video tutorial\' data-bind="click : showVideo" href="#"><img src="/pages/img/suppl_kino.png"></a>\n            </li>\n        </ul>\n    </div>\n</div>\n\n<div class="dash_content">\n    <div class="dash_box marg_box">\n        <a data-toggle="modal" href="#myModal2" class="butt edit show_lists">Just PopUp Example</a>\n    </div>\n    <div class="dash_box">\n        <div class="dash_in">\n            <a href=\'#/events\'><h3>Up & Coming Events</h3></a>\n\n            <table cellpadding="0" cellspacing="0" border="0" class="display example" id="" width="100%"\n            data-bind="dataTable : {\n                            instance :  eventDataTabe,\n                            options : {\n                                bProcessing: true,\n                                bServerSide: true,\n                                sAjaxSource : \'/dashboard/event\',\n                                fnServerParams : fnServerParamsTEvent,\n                                bPaginate: false,\n                                buildRow : buildEventRow,\n                                rowTemplate : \'event-row\',\n                                bScrollCollapse : true,\n                                aoColumns : eventColumns\n                            }\n                        }">\n            </table>\n        </div>\n        <div class="dash_buttons">\n            <a data-bind="click : eventByDay" href="#" class="btn_gray">Day</a>\n            <a data-bind="click : teventBy2Weekly" href="#" class="btn_gray">2 Weekly</a>\n            <a data-bind="click : eventMonthly" href="#" class="btn_gray">Monthly</a>\n        </div>\n    </div>\n    <div class="dash_box marg_box">\n        <div class="dash_in">\n            <a href=\'#/tasks\'><h3>Tasks</h3></a>\n            <table cellpadding="0" cellspacing="0" border="0" class="display example" id="tasks" width="100%"\n            data-bind="dataTable : {\n                            instance :  taskDataTabe,\n                            options : {\n                                bProcessing: true,\n                                bServerSide: true,\n                                sAjaxSource : \'/dashboard/task\',\n                                fnServerParams : fnServerParamsTTask,\n                                bPaginate: false,\n                                buildRow : buildTaskRow,\n                                rowTemplate : \'task-row\',\n                                bScrollCollapse : true,\n                                aoColumns : taskColumns\n                            }\n                        }"\n                        >\n            \n        </table>\n        </div>\n        <div class="dash_buttons">\n            <a data-bind="click : taskByDay" href="#" class="btn_gray">Day</a>\n            <a data-bind="click : taskBy2Weekly" href="#" class="btn_gray">Week</a>\n            <a data-bind="click : taskMonthly" href="#" class="btn_gray">Monthly</a>\n        </div>\n    </div>\n    <div class="dash_box">\n         <div class="dash_in">\n            <a href=\'#/productInfo\'><h3>Recent Transactions</h3></a>\n                <table cellpadding="0" cellspacing="0" border="0" class="display example" id="transitions" width="100%"\n                data-bind="dataTable : {\n                            instance :  transitionsDataTabe,\n                            options : {\n                                bProcessing: true,\n                                bServerSide: true,\n                                sAjaxSource : \'/dashboard/transaction\',\n                                fnServerParams : fnServerParamsTransaction,\n                                bPaginate: false,\n                                buildRow : buildTransitionRow,\n                                rowTemplate : \'transition-row\',\n                                bScrollCollapse : true,\n                                aoColumns : transitionColumns\n                            }\n                        }">\n                </table>\n        </div>\n        <div class="dash_buttons">\n            <a data-bind="click : transitionsByDay" href="#" class="btn_gray">Day</a>\n            <a data-bind="click : transitionsBy2Weekly" href="#" class="btn_gray">2 Weekly</a>\n            <a data-bind="click : transitionsMonthly" href="#" class="btn_gray">Monthly</a>\n        </div>\n    </div>\n</div>'}),function(X,l,n){var L=function(h){var j=function(e){function o(e,t){var r=j.defaults.columns,i=e.aoColumns.length,r=h.extend({},j.models.oColumn,r,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t?t:l.createElement("th"),sTitle:r.sTitle?r.sTitle:t?t.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[i],mData:r.mData?r.oDefaults:i});e.aoColumns.push(r);if(e.aoPreSearchCols[i]===n||null===e.aoPreSearchCols[i])e.aoPreSearchCols[i]=h.extend({},j.models.oSearch);else if(r=e.aoPreSearchCols[i],r.bRegex===n&&(r.bRegex=!0),r.bSmart===n&&(r.bSmart=!0),r.bCaseInsensitive===n)r.bCaseInsensitive=!0;m(e,i,null)}function m(e,t,r){var i=e.aoColumns[t];r!==n&&null!==r&&(r.mDataProp&&!r.mData&&(r.mData=r.mDataProp),r.sType!==n&&(i.sType=r.sType,i._bAutoType=!1),h.extend(i,r),p(i,r,"sWidth","sWidthOrig"),r.iDataSort!==n&&(i.aDataSort=[r.iDataSort]),p(i,r,"aDataSort"));var s=i.mRender?Q(i.mRender):null,o=Q(i.mData);i.fnGetData=function(e,t){var n=o(e,t);return i.mRender&&t&&""!==t?s(n,t,e):n},i.fnSetData=L(i.mData),e.oFeatures.bSort||(i.bSortable=!1),!i.bSortable||-1==h.inArray("asc",i.asSorting)&&-1==h.inArray("desc",i.asSorting)?(i.sSortingClass=e.oClasses.sSortableNone,i.sSortingClassJUI=""):-1==h.inArray("asc",i.asSorting)&&-1==h.inArray("desc",i.asSorting)?(i.sSortingClass=e.oClasses.sSortable,i.sSortingClassJUI=e.oClasses.sSortJUI):-1!=h.inArray("asc",i.asSorting)&&-1==h.inArray("desc",i.asSorting)?(i.sSortingClass=e.oClasses.sSortableAsc,i.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",i.asSorting)&&-1!=h.inArray("desc",i.asSorting)&&(i.sSortingClass=e.oClasses.sSortableDesc,i.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function k(e){if(!1===e.oFeatures.bAutoWidth)return!1;da(e);for(var t=0,n=e.aoColumns.length;t<n;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function G(e,t){var n=r(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function R(e,t){var n=r(e,"bVisible"),n=h.inArray(t,n);return-1!==n?n:null}function t(e){return r(e,"bVisible").length}function r(e,t){var n=[];return h.map(e.aoColumns,function(e,r){e[t]&&n.push(r)}),n}function B(e){for(var t=j.ext.aTypes,n=t.length,r=0;r<n;r++){var i=t[r](e);if(null!==i)return i}return"string"}function u(e,t){for(var n=t.split(","),r=[],i=0,s=e.aoColumns.length;i<s;i++)for(var o=0;o<s;o++)if(e.aoColumns[i].sName==n[o]){r.push(o);break}return r}function M(e){for(var t="",n=0,r=e.aoColumns.length;n<r;n++)t+=e.aoColumns[n].sName+",";return t.length==r?"":t.slice(0,-1)}function ta(e,t,n,r){var i,s,u,a,f;if(t)for(i=t.length-1;0<=i;i--){var l=t[i].aTargets;h.isArray(l)||D(e,1,"aTargets must be an array of targets, not a "+typeof l),s=0;for(u=l.length;s<u;s++)if("number"==typeof l[s]&&0<=l[s]){for(;e.aoColumns.length<=l[s];)o(e);r(l[s],t[i])}else if("number"==typeof l[s]&&0>l[s])r(e.aoColumns.length+l[s],t[i]);else if("string"==typeof l[s]){a=0;for(f=e.aoColumns.length;a<f;a++)("_all"==l[s]||h(e.aoColumns[a].nTh).hasClass(l[s]))&&r(a,t[i])}}if(n){i=0;for(e=n.length;i<e;i++)r(i,n[i])}}function H(e,t){var n;n=h.isArray(t)?t.slice():h.extend(!0,{},t);var r=e.aoData.length,i=h.extend(!0,{},j.models.oRow);i._aData=n,e.aoData.push(i);for(var s,i=0,o=e.aoColumns.length;i<o;i++)n=e.aoColumns[i],"function"==typeof n.fnRender&&n.bUseRendered&&null!==n.mData?F(e,r,i,S(e,r,i)):F(e,r,i,v(e,r,i)),n._bAutoType&&"string"!=n.sType&&(s=v(e,r,i,"type"),null!==s&&""!==s&&(s=B(s),null===n.sType?n.sType=s:n.sType!=s&&"html"!=n.sType&&(n.sType="string")));return e.aiDisplayMaster.push(r),e.oFeatures.bDeferRender||ea(e,r),r}function ua(e){var t,n,r,i,s,o,u;if(e.bDeferLoading||null===e.sAjaxSource)for(t=e.nTBody.firstChild;t;){if("TR"==t.nodeName.toUpperCase()){n=e.aoData.length,t._DT_RowIndex=n,e.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:t})),e.aiDisplayMaster.push(n),s=t.firstChild;for(r=0;s;){o=s.nodeName.toUpperCase();if("TD"==o||"TH"==o)F(e,n,r,h.trim(s.innerHTML)),r++;s=s.nextSibling}}t=t.nextSibling}i=T(e),r=[],t=0;for(n=i.length;t<n;t++)for(s=i[t].firstChild;s;)o=s.nodeName.toUpperCase(),("TD"==o||"TH"==o)&&r.push(s),s=s.nextSibling;n=0;for(i=e.aoColumns.length;n<i;n++){u=e.aoColumns[n],null===u.sTitle&&(u.sTitle=u.nTh.innerHTML);var a=u._bAutoType,f="function"==typeof u.fnRender,l=null!==u.sClass,c=u.bVisible,p,d;if(a||f||l||!c){o=0;for(t=e.aoData.length;o<t;o++)s=e.aoData[o],p=r[o*i+n],a&&"string"!=u.sType&&(d=v(e,o,n,"type"),""!==d&&(d=B(d),null===u.sType?u.sType=d:u.sType!=d&&"html"!=u.sType&&(u.sType="string"))),u.mRender?p.innerHTML=v(e,o,n,"display"):u.mData!==n&&(p.innerHTML=v(e,o,n,"display")),f&&(d=S(e,o,n),p.innerHTML=d,u.bUseRendered&&F(e,o,n,d)),l&&(p.className+=" "+u.sClass),c?s._anHidden[n]=null:(s._anHidden[n]=p,p.parentNode.removeChild(p)),u.fnCreatedCell&&u.fnCreatedCell.call(e.oInstance,p,v(e,o,n,"display"),s._aData,o,n)}}if(0!==e.aoRowCreatedCallback.length){t=0;for(n=e.aoData.length;t<n;t++)s=e.aoData[t],A(e,"aoRowCreatedCallback",null,[s.nTr,s._aData,t])}}function I(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function fa(e,t,n){for(var t=J(e,t),r=0,e=e.aoColumns.length;r<e;r++)if(t[r]===n)return r;return-1}function Y(e,t,n,r){for(var i=[],s=0,o=r.length;s<o;s++)i.push(v(e,t,r[s],n));return i}function v(e,t,r,i){var s=e.aoColumns[r];if((r=s.fnGetData(e.aoData[t]._aData,i))===n)return e.iDrawError!=e.iDraw&&null===s.sDefaultContent&&(D(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{mData function}":"'"+s.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),s.sDefaultContent;if(null===r&&null!==s.sDefaultContent)r=s.sDefaultContent;else if("function"==typeof r)return r();return"display"==i&&null===r?"":r}function F(e,t,n,r){e.aoColumns[n].fnSetData(e.aoData[t]._aData,r)}function Q(e){if(null===e)return function(){return null};if("function"==typeof e)return function(t,n,r){return e(t,n,r)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("["))return function(t){return t[e]};var t=function(e,r,i){var s=i.split("."),o;if(""!==i){var u=0;for(o=s.length;u<o;u++){if(i=s[u].match(U)){s[u]=s[u].replace(U,""),""!==s[u]&&(e=e[s[u]]),o=[],s.splice(0,u+1);for(var s=s.join("."),u=0,a=e.length;u<a;u++)o.push(t(e[u],r,s));e=i[0].substring(1,i[0].length-1),e=""===e?o:o.join(e);break}if(null===e||e[s[u]]===n)return n;e=e[s[u]]}}return e};return function(n,r){return t(n,r,e)}}function L(e){if(null===e)return function(){};if("function"==typeof e)return function(t,n){e(t,"set",n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("["))return function(t,n){t[e]=n};var t=function(e,r,i){var i=i.split("."),s,o,u=0;for(o=i.length-1;u<o;u++){if(s=i[u].match(U)){i[u]=i[u].replace(U,""),e[i[u]]=[],s=i.slice(),s.splice(0,u+1),o=s.join(".");for(var a=0,f=r.length;a<f;a++)s={},t(s,r[a],o),e[i[u]].push(s);return}if(null===e[i[u]]||e[i[u]]===n)e[i[u]]={};e=e[i[u]]}e[i[i.length-1].replace(U,"")]=r};return function(n,r){return t(n,r,e)}}function Z(e){for(var t=[],n=e.aoData.length,r=0;r<n;r++)t.push(e.aoData[r]._aData);return t}function ga(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),y(e)}function ha(e,t){for(var n=-1,r=0,i=e.length;r<i;r++)e[r]==t?n=r:e[r]>t&&e[r]--;-1!=n&&e.splice(n,1)}function S(e,t,n){var r=e.aoColumns[n];return r.fnRender({iDataRow:t,iDataColumn:n,oSettings:e,aData:e.aoData[t]._aData,mDataProp:r.mData},v(e,t,n,"display"))}function ea(e,t){var n=e.aoData[t],r;if(null===n.nTr){n.nTr=l.createElement("tr"),n.nTr._DT_RowIndex=t,n._aData.DT_RowId&&(n.nTr.id=n._aData.DT_RowId),n._aData.DT_RowClass&&(n.nTr.className=n._aData.DT_RowClass);for(var i=0,s=e.aoColumns.length;i<s;i++){var o=e.aoColumns[i];r=l.createElement(o.sCellType),r.innerHTML="function"!=typeof o.fnRender||!!o.bUseRendered&&null!==o.mData?v(e,t,i,"display"):S(e,t,i),null!==o.sClass&&(r.className=o.sClass),o.bVisible?(n.nTr.appendChild(r),n._anHidden[i]=null):n._anHidden[i]=r,o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,r,v(e,t,i,"display"),n._aData,t,i)}A(e,"aoRowCreatedCallback",null,[n.nTr,n._aData,t])}}function va(e){var t,n,r;if(0!==h("th, td",e.nTHead).length){t=0;for(r=e.aoColumns.length;t<r;t++)if(n=e.aoColumns[t].nTh,n.setAttribute("role","columnheader"),e.aoColumns[t].bSortable&&(n.setAttribute("tabindex",e.iTabIndex),n.setAttribute("aria-controls",e.sTableId)),null!==e.aoColumns[t].sClass&&h(n).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=n.innerHTML)n.innerHTML=e.aoColumns[t].sTitle}else{var i=l.createElement("tr");t=0;for(r=e.aoColumns.length;t<r;t++)n=e.aoColumns[t].nTh,n.innerHTML=e.aoColumns[t].sTitle,n.setAttribute("tabindex","0"),null!==e.aoColumns[t].sClass&&h(n).addClass(e.aoColumns[t].sClass),i.appendChild(n);h(e.nTHead).html("")[0].appendChild(i),V(e.aoHeader,e.nTHead)}h(e.nTHead).children("tr").attr("role","row");if(e.bJUI){t=0;for(r=e.aoColumns.length;t<r;t++){n=e.aoColumns[t].nTh,i=l.createElement("div"),i.className=e.oClasses.sSortJUIWrapper,h(n).contents().appendTo(i);var s=l.createElement("span");s.className=e.oClasses.sSortIcon,i.appendChild(s),n.appendChild(i)}}if(e.oFeatures.bSort)for(t=0;t<e.aoColumns.length;t++)!1!==e.aoColumns[t].bSortable?ia(e,e.aoColumns[t].nTh,t):h(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);""!==e.oClasses.sFooterTH&&h(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH);if(null!==e.nTFoot){n=N(e,null,e.aoFooter),t=0;for(r=e.aoColumns.length;t<r;t++)n[t]&&(e.aoColumns[t].nTf=n[t],e.aoColumns[t].sClass&&h(n[t]).addClass(e.aoColumns[t].sClass))}}function W(e,t,r){var i,s,o,u=[],a=[],f=e.aoColumns.length,l;r===n&&(r=!1),i=0;for(s=t.length;i<s;i++){u[i]=t[i].slice(),u[i].nTr=t[i].nTr;for(o=f-1;0<=o;o--)!e.aoColumns[o].bVisible&&!r&&u[i].splice(o,1);a.push([])}i=0;for(s=u.length;i<s;i++){if(e=u[i].nTr)for(;o=e.firstChild;)e.removeChild(o);o=0;for(t=u[i].length;o<t;o++)if(l=f=1,a[i][o]===n){e.appendChild(u[i][o].cell);for(a[i][o]=1;u[i+f]!==n&&u[i][o].cell==u[i+f][o].cell;)a[i+f][o]=1,f++;for(;u[i][o+l]!==n&&u[i][o].cell==u[i][o+l].cell;){for(r=0;r<f;r++)a[i+r][o+l]=1;l++}u[i][o].cell.rowSpan=f,u[i][o].cell.colSpan=l}}}function x(e){var r=A(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==h.inArray(!1,r))E(e,!1);else{var i,s,r=[],o=0,u=e.asStripeClasses.length;i=e.aoOpenRows.length,e.bDrawing=!0,e.iInitDisplayStart!==n&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,y(e));if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!wa(e))return}else e.iDraw++;if(0!==e.aiDisplay.length){var a=e._iDisplayStart;s=e._iDisplayEnd,e.oFeatures.bServerSide&&(a=0,s=e.aoData.length);for(;a<s;a++){var f=e.aoData[e.aiDisplay[a]];null===f.nTr&&ea(e,e.aiDisplay[a]);var c=f.nTr;if(0!==u){var p=e.asStripeClasses[o%u];f._sRowStripe!=p&&(h(c).removeClass(f._sRowStripe).addClass(p),f._sRowStripe=p)}A(e,"aoRowCallback",null,[c,e.aoData[e.aiDisplay[a]]._aData,o,a]),r.push(c),o++;if(0!==i)for(f=0;f<i;f++)if(c==e.aoOpenRows[f].nParent){r.push(e.aoOpenRows[f].nTr);break}}}else r[0]=l.createElement("tr"),e.asStripeClasses[0]&&(r[0].className=e.asStripeClasses[0]),i=e.oLanguage,u=i.sZeroRecords,1==e.iDraw&&null!==e.sAjaxSource&&!e.oFeatures.bServerSide?u=i.sLoadingRecords:i.sEmptyTable&&0===e.fnRecordsTotal()&&(u=i.sEmptyTable),i=l.createElement("td"),i.setAttribute("valign","top"),i.colSpan=t(e),i.className=e.oClasses.sRowEmpty,i.innerHTML=ja(e,u),r[o].appendChild(i);A(e,"aoHeaderCallback","header",[h(e.nTHead).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),A(e,"aoFooterCallback","footer",[h(e.nTFoot).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),o=l.createDocumentFragment(),i=l.createDocumentFragment();if(e.nTBody){u=e.nTBody.parentNode,i.appendChild(e.nTBody);if(!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;i=e.nTBody.firstChild;)e.nTBody.removeChild(i);i=0;for(s=r.length;i<s;i++)o.appendChild(r[i]);e.nTBody.appendChild(o),null!==u&&u.appendChild(e.nTBody)}A(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(E(e,!1),e._bInitComplete||$(e))}}function aa(e){e.oFeatures.bSort?O(e,e.oPreviousSearch):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(y(e),x(e))}function xa(e){var t=h("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=h('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var n=e.nTableWrapper,r=e.sDom.split(""),i,s,o,u,a,f,l,c=0;c<r.length;c++){s=0,o=r[c];if("<"==o){u=h("<div></div>")[0],a=r[c+1];if("'"==a||'"'==a){f="";for(l=2;r[c+l]!=a;)f+=r[c+l],l++;"H"==f?f=e.oClasses.sJUIHeader:"F"==f&&(f=e.oClasses.sJUIFooter),-1!=f.indexOf(".")?(a=f.split("."),u.id=a[0].substr(1,a[0].length-1),u.className=a[1]):"#"==f.charAt(0)?u.id=f.substr(1,f.length-1):u.className=f,c+=l}n.appendChild(u),n=u}else if(">"==o)n=n.parentNode;else if("l"==o&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)i=ya(e),s=1;else if("f"==o&&e.oFeatures.bFilter)i=za(e),s=1;else if("r"==o&&e.oFeatures.bProcessing)i=Aa(e),s=1;else if("t"==o)i=Ba(e),s=1;else if("i"==o&&e.oFeatures.bInfo)i=Ca(e),s=1;else if("p"==o&&e.oFeatures.bPaginate)i=Da(e),s=1;else if(0!==j.ext.aoFeatures.length){u=j.ext.aoFeatures,l=0;for(a=u.length;l<a;l++)if(o==u[l].cFeature){(i=u[l].fnInit(e))&&(s=1);break}}1==s&&null!==i&&("object"!=typeof e.aanFeatures[o]&&(e.aanFeatures[o]=[]),e.aanFeatures[o].push(i),n.appendChild(i))}t.parentNode.replaceChild(e.nTableWrapper,t)}function V(e,t){var n=h(t).children("tr"),r,i,s,o,u,a,f,l,c,p;e.splice(0,e.length),s=0;for(a=n.length;s<a;s++)e.push([]);s=0;for(a=n.length;s<a;s++){r=n[s];for(i=r.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){l=1*i.getAttribute("colspan"),c=1*i.getAttribute("rowspan"),l=!l||0===l||1===l?1:l,c=!c||0===c||1===c?1:c,o=0;for(u=e[s];u[o];)o++;f=o,p=1===l?!0:!1;for(u=0;u<l;u++)for(o=0;o<c;o++)e[s+o][f+u]={cell:i,unique:p},e[s+o].nTr=r}i=i.nextSibling}}}function N(e,t,n){var r=[];n||(n=e.aoHeader,t&&(n=[],V(n,t)));for(var t=0,i=n.length;t<i;t++)for(var s=0,o=n[t].length;s<o;s++)n[t][s].unique&&(!r[s]||!e.bSortCellsTop)&&(r[s]=n[t][s].cell);return r}function wa(e){if(e.bAjaxDataGet){e.iDraw++,E(e,!0);var t=Ea(e);return ka(e,t),e.fnServerData.call(e.oInstance,e.sAjaxSource,t,function(t){Fa(e,t)},e),!1}return!0}function Ea(e){var t=e.aoColumns.length,n=[],r,i,s,o;n.push({name:"sEcho",value:e.iDraw}),n.push({name:"iColumns",value:t}),n.push({name:"sColumns",value:M(e)}),n.push({name:"iDisplayStart",value:e._iDisplayStart}),n.push({name:"iDisplayLength",value:!1!==e.oFeatures.bPaginate?e._iDisplayLength:-1});for(s=0;s<t;s++)r=e.aoColumns[s].mData,n.push({name:"mDataProp_"+s,value:"function"==typeof r?"function":r});if(!1!==e.oFeatures.bFilter){n.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),n.push({name:"bRegex",value:e.oPreviousSearch.bRegex});for(s=0;s<t;s++)n.push({name:"sSearch_"+s,value:e.aoPreSearchCols[s].sSearch}),n.push({name:"bRegex_"+s,value:e.aoPreSearchCols[s].bRegex}),n.push({name:"bSearchable_"+s,value:e.aoColumns[s].bSearchable})}if(!1!==e.oFeatures.bSort){var u=0;r=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(s=0;s<r.length;s++){i=e.aoColumns[r[s][0]].aDataSort;for(o=0;o<i.length;o++)n.push({name:"iSortCol_"+u,value:i[o]}),n.push({name:"sSortDir_"+u,value:r[s][1]}),u++}n.push({name:"iSortingCols",value:u});for(s=0;s<t;s++)n.push({name:"bSortable_"+s,value:e.aoColumns[s].bSortable})}return n}function ka(e,t){A(e,"aoServerParams","serverParams",[t])}function Fa(e,t){if(t.sEcho!==n){if(1*t.sEcho<e.iDraw)return;e.iDraw=1*t.sEcho}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&ga(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var r=M(e),r=t.sColumns!==n&&""!==r&&t.sColumns!=r,i;r&&(i=u(e,t.sColumns));for(var s=Q(e.sAjaxDataProp)(t),o=0,a=s.length;o<a;o++)if(r){for(var f=[],l=0,c=e.aoColumns.length;l<c;l++)f.push(s[o][i[l]]);H(e,f)}else H(e,s[o]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,x(e),e.bAjaxDataGet=!0,E(e,!1)}function za(e){var t=e.oPreviousSearch,n=e.oLanguage.sSearch,n=-1!==n.indexOf("_INPUT_")?n.replace("_INPUT_",'<input type="text" />'):""===n?'<input type="text" />':n+' <input type="text" />',r=l.createElement("div");return r.className=e.oClasses.sFilter,r.innerHTML="<label>"+n+"</label>",e.aanFeatures.f||(r.id=e.sTableId+"_filter"),n=h('input[type="text"]',r),r._DT_Input=n[0],n.val(t.sSearch.replace('"',"&quot;")),n.bind("keyup.DT",function(){for(var n=e.aanFeatures.f,r=this.value===""?"":this.value,i=0,s=n.length;i<s;i++)n[i]!=h(this).parents("div.dataTables_filter")[0]&&h(n[i]._DT_Input).val(r);r!=t.sSearch&&K(e,{sSearch:r,bRegex:t.bRegex,bSmart:t.bSmart,bCaseInsensitive:t.bCaseInsensitive})}),n.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){if(e.keyCode==13)return!1}),r}function K(e,t,n){var r=e.oPreviousSearch,i=e.aoPreSearchCols,s=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive};if(e.oFeatures.bServerSide)s(t);else{Ga(e,t.sSearch,n,t.bRegex,t.bSmart,t.bCaseInsensitive),s(t);for(t=0;t<e.aoPreSearchCols.length;t++)Ha(e,i[t].sSearch,t,i[t].bRegex,i[t].bSmart,i[t].bCaseInsensitive);Ia(e)}e.bFiltered=!0,h(e.oInstance).trigger("filter",e),e._iDisplayStart=0,y(e),x(e),la(e,0)}function Ia(e){for(var t=j.ext.afnFiltering,n=r(e,"bSearchable"),i=0,s=t.length;i<s;i++)for(var o=0,u=0,a=e.aiDisplay.length;u<a;u++){var f=e.aiDisplay[u-o];t[i](e,Y(e,f,"filter",n),f)||(e.aiDisplay.splice(u-o,1),o++)}}function Ha(e,t,n,r,i,s){if(""!==t)for(var o=0,t=ma(t,r,i,s),r=e.aiDisplay.length-1;0<=r;r--)i=Ja(v(e,e.aiDisplay[r],n,"filter"),e.aoColumns[n].sType),t.test(i)||(e.aiDisplay.splice(r,1),o++)}function Ga(e,t,n,r,i,s){r=ma(t,r,i,s),i=e.oPreviousSearch,n||(n=0),0!==j.ext.afnFiltering.length&&(n=1);if(0>=t.length)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||i.sSearch.length>t.length||1==n||0!==t.indexOf(i.sSearch)){e.aiDisplay.splice(0,e.aiDisplay.length),la(e,1);for(t=0;t<e.aiDisplayMaster.length;t++)r.test(e.asDataSearch[t])&&e.aiDisplay.push(e.aiDisplayMaster[t])}else for(t=n=0;t<e.asDataSearch.length;t++)r.test(e.asDataSearch[t])||(e.aiDisplay.splice(t-n,1),n++)}function la(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];for(var n=r(e,"bSearchable"),i=1===t?e.aiDisplayMaster:e.aiDisplay,s=0,o=i.length;s<o;s++)e.asDataSearch[s]=na(e,Y(e,i[s],"filter",n))}}function na(e,t){var n=t.join("  ");return-1!==n.indexOf("&")&&(n=h("<div>").html(n).text()),n.replace(/[\n\r]/g," ")}function ma(e,t,n,r){return n?(e=t?e.split(" "):oa(e).split(" "),e="^(?=.*?"+e.join(")(?=.*?")+").*$",RegExp(e,r?"i":"")):(e=t?e:oa(e),RegExp(e,r?"i":""))}function Ja(e,t){return"function"==typeof j.ext.ofnSearch[t]?j.ext.ofnSearch[t](e):null===e?"":"html"==t?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof e?e.replace(/[\r\n]/g," "):e}function oa(e){return e.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(e){var t=l.createElement("div");return t.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:Ka,sName:"information"}),t.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),t}function Ka(e){if(e.oFeatures.bInfo&&0!==e.aanFeatures.i.length){var t=e.oLanguage,n=e._iDisplayStart+1,r=e.fnDisplayEnd(),i=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),o;o=0===s?t.sInfoEmpty:t.sInfo,s!=i&&(o+=" "+t.sInfoFiltered),o+=t.sInfoPostFix,o=ja(e,o),null!==t.fnInfoCallback&&(o=t.fnInfoCallback.call(e.oInstance,e,n,r,i,s,o)),e=e.aanFeatures.i,t=0;for(n=e.length;t<n;t++)h(e[t]).html(o)}}function ja(e,t){var n=e.fnFormatNumber(e._iDisplayStart+1),r=e.fnDisplayEnd(),r=e.fnFormatNumber(r),i=e.fnRecordsDisplay(),i=e.fnFormatNumber(i),s=e.fnRecordsTotal(),s=e.fnFormatNumber(s);return e.oScroll.bInfinite&&(n=e.fnFormatNumber(1)),t.replace(/_START_/g,n).replace(/_END_/g,r).replace(/_TOTAL_/g,i).replace(/_MAX_/g,s)}function ba(e){var t,n,r=e.iInitDisplayStart;if(!1===e.bInitialised)setTimeout(function(){ba(e)},200);else{xa(e),va(e),W(e,e.aoHeader),e.nTFoot&&W(e,e.aoFooter),E(e,!0),e.oFeatures.bAutoWidth&&da(e),t=0;for(n=e.aoColumns.length;t<n;t++)null!==e.aoColumns[t].sWidth&&(e.aoColumns[t].nTh.style.width=q(e.aoColumns[t].sWidth));e.oFeatures.bSort?O(e):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),null!==e.sAjaxSource&&!e.oFeatures.bServerSide?(n=[],ka(e,n),e.fnServerData.call(e.oInstance,e.sAjaxSource,n,function(n){var i=e.sAjaxDataProp!==""?Q(e.sAjaxDataProp)(n):n;for(t=0;t<i.length;t++)H(e,i[t]);e.iInitDisplayStart=r,e.oFeatures.bSort?O(e):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),E(e,!1),$(e,n)},e)):e.oFeatures.bServerSide||(E(e,!1),$(e))}}function $(e,t){e._bInitComplete=!0,A(e,"aoInitComplete","init",[e,t])}function pa(e){var t=j.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&"No data available in table"===t.sEmptyTable&&p(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&"Loading..."===t.sLoadingRecords&&p(e,e,"sZeroRecords","sLoadingRecords")}function ya(e){if(e.oScroll.bInfinite)return null;var t='<select size="1" '+('name="'+e.sTableId+'_length"')+">",n,r,i=e.aLengthMenu;if(2==i.length&&"object"==typeof i[0]&&"object"==typeof i[1]){n=0;for(r=i[0].length;n<r;n++)t+='<option value="'+i[0][n]+'">'+i[1][n]+"</option>"}else{n=0;for(r=i.length;n<r;n++)t+='<option value="'+i[n]+'">'+i[n]+"</option>"}return t+="</select>",i=l.createElement("div"),e.aanFeatures.l||(i.id=e.sTableId+"_length"),i.className=e.oClasses.sLength,i.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",t)+"</label>",h('select option[value="'+e._iDisplayLength+'"]',i).attr("selected",!0),h("select",i).bind("change.DT",function(){var t=h(this).val(),i=e.aanFeatures.l;n=0;for(r=i.length;n<r;n++)i[n]!=this.parentNode&&h("select",i[n]).val(t);e._iDisplayLength=parseInt(t,10),y(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),e._iDisplayLength==-1&&(e._iDisplayStart=0),x(e)}),h("select",i).attr("aria-controls",e.sTableId),i}function y(e){e._iDisplayEnd=!1===e.oFeatures.bPaginate?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||-1==e._iDisplayLength?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength}function Da(e){if(e.oScroll.bInfinite)return null;var t=l.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,j.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){y(e),x(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){j.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){y(e),x(e)})},sName:"pagination"}),t}function qa(e,t){var n=e._iDisplayStart;if("number"==typeof t)e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0);else if("first"==t)e._iDisplayStart=0;else if("previous"==t)e._iDisplayStart=0<=e._iDisplayLength?e._iDisplayStart-e._iDisplayLength:0,0>e._iDisplayStart&&(e._iDisplayStart=0);else if("next"==t)0<=e._iDisplayLength?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if("last"==t)if(0<=e._iDisplayLength){var r=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(r-1)*e._iDisplayLength}else e._iDisplayStart=0;else D(e,0,"Unknown paging action: "+t);return h(e.oInstance).trigger("page",e),n!=e._iDisplayStart}function Aa(e){var t=l.createElement("div");return e.aanFeatures.r||(t.id=e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function E(e,t){if(e.oFeatures.bProcessing)for(var n=e.aanFeatures.r,r=0,i=n.length;r<i;r++)n[r].style.visibility=t?"visible":"hidden";h(e.oInstance).trigger("processing",[e,t])}function Ba(e){if(""===e.oScroll.sX&&""===e.oScroll.sY)return e.nTable;var t=l.createElement("div"),n=l.createElement("div"),r=l.createElement("div"),i=l.createElement("div"),s=l.createElement("div"),o=l.createElement("div"),u=e.nTable.cloneNode(!1),a=e.nTable.cloneNode(!1),f=e.nTable.getElementsByTagName("thead")[0],c=0===e.nTable.getElementsByTagName("tfoot").length?null:e.nTable.getElementsByTagName("tfoot")[0],p=e.oClasses;return n.appendChild(r),s.appendChild(o),i.appendChild(e.nTable),t.appendChild(n),t.appendChild(i),r.appendChild(u),u.appendChild(f),null!==c&&(t.appendChild(s),o.appendChild(a),a.appendChild(c)),t.className=p.sScrollWrapper,n.className=p.sScrollHead,r.className=p.sScrollHeadInner,i.className=p.sScrollBody,s.className=p.sScrollFoot,o.className=p.sScrollFootInner,e.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",s.style.overflow="hidden",i.style.overflow="auto"),n.style.border="0",n.style.width="100%",s.style.border="0",r.style.width=""!==e.oScroll.sXInner?e.oScroll.sXInner:"100%",u.removeAttribute("id"),u.style.marginLeft="0",e.nTable.style.marginLeft="0",null!==c&&(a.removeAttribute("id"),a.style.marginLeft="0"),r=h(e.nTable).children("caption"),0<r.length&&(r=r[0],"top"===r._captionSide?u.appendChild(r):"bottom"===r._captionSide&&c&&a.appendChild(r)),""!==e.oScroll.sX&&(n.style.width=q(e.oScroll.sX),i.style.width=q(e.oScroll.sX),null!==c&&(s.style.width=q(e.oScroll.sX)),h(i).scroll(function(){n.scrollLeft=this.scrollLeft,c!==null&&(s.scrollLeft=this.scrollLeft)})),""!==e.oScroll.sY&&(i.style.height=q(e.oScroll.sY)),e.aoDrawCallback.push({fn:La,sName:"scrolling"}),e.oScroll.bInfinite&&h(i).scroll(function(){!e.bDrawing&&h(this).scrollTop()!==0&&h(this).scrollTop()+h(this).height()>h(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(qa(e,"next"),y(e),x(e))}),e.nScrollHead=n,e.nScrollFoot=s,t}function La(e){var t=e.nScrollHead.getElementsByTagName("div")[0],n=t.getElementsByTagName("table")[0],r=e.nTable.parentNode,i,s,o,u,a,f,l,c,p=[],d=[],v=null!==e.nTFoot?e.nScrollFoot.getElementsByTagName("div")[0]:null,m=null!==e.nTFoot?v.getElementsByTagName("table")[0]:null,g=e.oBrowser.bScrollOversize,y=function(e){l=e.style,l.paddingTop="0",l.paddingBottom="0",l.borderTopWidth="0",l.borderBottomWidth="0",l.height=0};h(e.nTable).children("thead, tfoot").remove(),i=h(e.nTHead).clone()[0],e.nTable.insertBefore(i,e.nTable.childNodes[0]),o=e.nTHead.getElementsByTagName("tr"),u=i.getElementsByTagName("tr"),null!==e.nTFoot&&(a=h(e.nTFoot).clone()[0],e.nTable.insertBefore(a,e.nTable.childNodes[1]),f=e.nTFoot.getElementsByTagName("tr"),a=a.getElementsByTagName("tr")),""===e.oScroll.sX&&(r.style.width="100%",t.parentNode.style.width="100%");var b=N(e,i);i=0;for(s=b.length;i<s;i++)c=G(e,i),b[i].style.width=e.aoColumns[c].sWidth;null!==e.nTFoot&&C(function(e){e.style.width=""},a),e.oScroll.bCollapse&&""!==e.oScroll.sY&&(r.style.height=r.offsetHeight+e.nTHead.offsetHeight+"px"),i=h(e.nTable).outerWidth();if(""===e.oScroll.sX){if(e.nTable.style.width="100%",g&&(h("tbody",r).height()>r.offsetHeight||"scroll"==h(r).css("overflow-y")))e.nTable.style.width=q(h(e.nTable).outerWidth()-e.oScroll.iBarWidth)}else""!==e.oScroll.sXInner?e.nTable.style.width=q(e.oScroll.sXInner):i==h(r).width()&&h(r).height()<h(e.nTable).height()?(e.nTable.style.width=q(i-e.oScroll.iBarWidth),h(e.nTable).outerWidth()>i-e.oScroll.iBarWidth&&(e.nTable.style.width=q(i))):e.nTable.style.width=q(i);i=h(e.nTable).outerWidth(),C(y,u),C(function(e){p.push(q(h(e).width()))},u),C(function(e,t){e.style.width=p[t]},o),h(u).height(0),null!==e.nTFoot&&(C(y,a),C(function(e){d.push(q(h(e).width()))},a),C(function(e,t){e.style.width=d[t]},f),h(a).height(0)),C(function(e,t){e.innerHTML="",e.style.width=p[t]},u),null!==e.nTFoot&&C(function(e,t){e.innerHTML="",e.style.width=d[t]},a),h(e.nTable).outerWidth()<i?(o=r.scrollHeight>r.offsetHeight||"scroll"==h(r).css("overflow-y")?i+e.oScroll.iBarWidth:i,g&&(r.scrollHeight>r.offsetHeight||"scroll"==h(r).css("overflow-y"))&&(e.nTable.style.width=q(o-e.oScroll.iBarWidth)),r.style.width=q(o),e.nScrollHead.style.width=q(o),null!==e.nTFoot&&(e.nScrollFoot.style.width=q(o)),""===e.oScroll.sX?D(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==e.oScroll.sXInner&&D(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(r.style.width=q("100%"),e.nScrollHead.style.width=q("100%"),null!==e.nTFoot&&(e.nScrollFoot.style.width=q("100%"))),""===e.oScroll.sY&&g&&(r.style.height=q(e.nTable.offsetHeight+e.oScroll.iBarWidth)),""!==e.oScroll.sY&&e.oScroll.bCollapse&&(r.style.height=q(e.oScroll.sY),g=""!==e.oScroll.sX&&e.nTable.offsetWidth>r.offsetWidth?e.oScroll.iBarWidth:0,e.nTable.offsetHeight<r.offsetHeight&&(r.style.height=q(e.nTable.offsetHeight+g))),g=h(e.nTable).outerWidth(),n.style.width=q(g),t.style.width=q(g),n=h(e.nTable).height()>r.clientHeight||"scroll"==h(r).css("overflow-y"),t.style.paddingRight=n?e.oScroll.iBarWidth+"px":"0px",null!==e.nTFoot&&(m.style.width=q(g),v.style.width=q(g),v.style.paddingRight=n?e.oScroll.iBarWidth+"px":"0px"),h(r).scroll();if(e.bSorted||e.bFiltered)r.scrollTop=0}function C(e,t,n){for(var r=0,i=0,s=t.length,o,u;i<s;){o=t[i].firstChild;for(u=n?n[i].firstChild:null;o;)1===o.nodeType&&(n?e(o,u,r):e(o,r),r++),o=o.nextSibling,u=n?u.nextSibling:null;i++}}function Ma(e,t){if(!e||null===e||""===e)return 0;t||(t=l.body);var n,r=l.createElement("div");return r.style.width=q(e),t.appendChild(r),n=r.offsetWidth,t.removeChild(r),n}function da(e){var t=0,n,r=0,i=e.aoColumns.length,s,o,u=h("th",e.nTHead),a=e.nTable.getAttribute("width");o=e.nTable.parentNode;for(s=0;s<i;s++)e.aoColumns[s].bVisible&&(r++,null!==e.aoColumns[s].sWidth&&(n=Ma(e.aoColumns[s].sWidthOrig,o),null!==n&&(e.aoColumns[s].sWidth=q(n)),t++));if(i==u.length&&0===t&&r==i&&""===e.oScroll.sX&&""===e.oScroll.sY)for(s=0;s<e.aoColumns.length;s++)n=h(u[s]).width(),null!==n&&(e.aoColumns[s].sWidth=q(n));else{t=e.nTable.cloneNode(!1),s=e.nTHead.cloneNode(!0),r=l.createElement("tbody"),n=l.createElement("tr"),t.removeAttribute("id"),t.appendChild(s),null!==e.nTFoot&&(t.appendChild(e.nTFoot.cloneNode(!0)),C(function(e){e.style.width=""},t.getElementsByTagName("tr"))),t.appendChild(r),r.appendChild(n),r=h("thead th",t),0===r.length&&(r=h("tbody tr:eq(0)>td",t)),u=N(e,s);for(s=r=0;s<i;s++){var f=e.aoColumns[s];f.bVisible&&null!==f.sWidthOrig&&""!==f.sWidthOrig?u[s-r].style.width=q(f.sWidthOrig):f.bVisible?u[s-r].style.width="":r++}for(s=0;s<i;s++)e.aoColumns[s].bVisible&&(r=Na(e,s),null!==r&&(r=r.cloneNode(!0),""!==e.aoColumns[s].sContentPadding&&(r.innerHTML+=e.aoColumns[s].sContentPadding),n.appendChild(r)));o.appendChild(t),""!==e.oScroll.sX&&""!==e.oScroll.sXInner?t.style.width=q(e.oScroll.sXInner):""!==e.oScroll.sX?(t.style.width="",h(t).width()<o.offsetWidth&&(t.style.width=q(o.offsetWidth))):""!==e.oScroll.sY?t.style.width=q(o.offsetWidth):a&&(t.style.width=q(a)),t.style.visibility="hidden",Oa(e,t),i=h("tbody tr:eq(0)",t).children(),0===i.length&&(i=N(e,h("thead",t)[0]));if(""!==e.oScroll.sX){for(s=r=o=0;s<e.aoColumns.length;s++)e.aoColumns[s].bVisible&&(o=null===e.aoColumns[s].sWidthOrig?o+h(i[r]).outerWidth():o+(parseInt(e.aoColumns[s].sWidth.replace("px",""),10)+(h(i[r]).outerWidth()-h(i[r]).width())),r++);t.style.width=q(o),e.nTable.style.width=q(o)}for(s=r=0;s<e.aoColumns.length;s++)e.aoColumns[s].bVisible&&(o=h(i[r]).width(),null!==o&&0<o&&(e.aoColumns[s].sWidth=q(o)),r++);i=h(t).css("width"),e.nTable.style.width=-1!==i.indexOf("%")?i:q(h(t).outerWidth()),t.parentNode.removeChild(t)}a&&(e.nTable.style.width=q(a))}function Oa(e,t){""===e.oScroll.sX&&""!==e.oScroll.sY?(h(t).width(),t.style.width=q(h(t).outerWidth()-e.oScroll.iBarWidth)):""!==e.oScroll.sX&&(t.style.width=q(h(t).outerWidth()))}function Na(e,t){var n=Pa(e,t);if(0>n)return null;if(null===e.aoData[n].nTr){var r=l.createElement("td");return r.innerHTML=v(e,n,t,""),r}return J(e,n)[t]}function Pa(e,t){for(var n=-1,r=-1,i=0;i<e.aoData.length;i++){var s=v(e,i,t,"display")+"",s=s.replace(/<.*?>/g,"");s.length>n&&(n=s.length,r=i)}return r}function q(e){if(null===e)return"0px";if("number"==typeof e)return 0>e?"0px":e+"px";var t=e.charCodeAt(e.length-1);return 48>t||57<t?e:e+"px"}function Qa(){var e=l.createElement("p"),t=e.style;t.width="100%",t.height="200px",t.padding="0px";var n=l.createElement("div"),t=n.style;return t.position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",n.appendChild(e),l.body.appendChild(n),t=e.offsetWidth,n.style.overflow="scroll",e=e.offsetWidth,t==e&&(e=n.clientWidth),l.body.removeChild(n),t-e}function O(e,t){var r,i,s,o,u,a,f=[],l=[],c=j.ext.oSort,p=e.aoData,d=e.aoColumns,m=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(0!==e.aaSorting.length||null!==e.aaSortingFixed)){f=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(r=0;r<f.length;r++)if(i=f[r][0],s=R(e,i),o=e.aoColumns[i].sSortDataType,j.ext.afnSortData[o])if(u=j.ext.afnSortData[o].call(e.oInstance,e,i,s),u.length===p.length){s=0;for(o=p.length;s<o;s++)F(e,s,i,u[s])}else D(e,0,"Returned data sort array (col "+i+") is the wrong length");r=0;for(i=e.aiDisplayMaster.length;r<i;r++)l[e.aiDisplayMaster[r]]=r;var g=f.length,b;r=0;for(i=p.length;r<i;r++)for(s=0;s<g;s++){b=d[f[s][0]].aDataSort,u=0;for(a=b.length;u<a;u++)o=d[b[u]].sType,o=c[(o?o:"string")+"-pre"],p[r]._aSortData[b[u]]=o?o(v(e,r,b[u],"sort")):v(e,r,b[u],"sort")}e.aiDisplayMaster.sort(function(e,t){var n,r,i,s,o;for(n=0;n<g;n++){o=d[f[n][0]].aDataSort,r=0;for(i=o.length;r<i;r++)if(s=d[o[r]].sType,s=c[(s?s:"string")+"-"+f[n][1]](p[e]._aSortData[o[r]],p[t]._aSortData[o[r]]),0!==s)return s}return c["numeric-asc"](l[e],l[t])})}(t===n||t)&&!e.oFeatures.bDeferRender&&P(e),r=0;for(i=e.aoColumns.length;r<i;r++)o=d[r].sTitle.replace(/<.*?>/g,""),s=d[r].nTh,s.removeAttribute("aria-sort"),s.removeAttribute("aria-label"),d[r].bSortable?0<f.length&&f[0][0]==r?(s.setAttribute("aria-sort","asc"==f[0][1]?"ascending":"descending"),s.setAttribute("aria-label",o+("asc"==(d[r].asSorting[f[0][2]+1]?d[r].asSorting[f[0][2]+1]:d[r].asSorting[0])?m.sSortAscending:m.sSortDescending))):s.setAttribute("aria-label",o+("asc"==d[r].asSorting[0]?m.sSortAscending:m.sSortDescending)):s.setAttribute("aria-label",o);e.bSorted=!0,h(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?K(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,y(e),x(e))}function ia(e,t,n,r){Ra(t,{},function(t){if(!1!==e.aoColumns[n].bSortable){var i=function(){var r,i;if(t.shiftKey){for(var s=!1,o=0;o<e.aaSorting.length;o++)if(e.aaSorting[o][0]==n){s=!0,r=e.aaSorting[o][0],i=e.aaSorting[o][2]+1,e.aoColumns[r].asSorting[i]?(e.aaSorting[o][1]=e.aoColumns[r].asSorting[i],e.aaSorting[o][2]=i):e.aaSorting.splice(o,1);break}!1===s&&e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}else 1==e.aaSorting.length&&e.aaSorting[0][0]==n?(r=e.aaSorting[0][0],i=e.aaSorting[0][2]+1,e.aoColumns[r].asSorting[i]||(i=0),e.aaSorting[0][1]=e.aoColumns[r].asSorting[i],e.aaSorting[0][2]=i):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0]));O(e)};e.oFeatures.bProcessing?(E(e,!0),setTimeout(function(){i(),e.oFeatures.bServerSide||E(e,!1)},0)):i(),"function"==typeof r&&r(e)}})}function P(e){var t,n,r,i,s,o=e.aoColumns.length,u=e.oClasses;for(t=0;t<o;t++)e.aoColumns[t].bSortable&&h(e.aoColumns[t].nTh).removeClass(u.sSortAsc+" "+u.sSortDesc+" "+e.aoColumns[t].sSortingClass);n=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){s=e.aoColumns[t].sSortingClass,i=-1;for(r=0;r<n.length;r++)if(n[r][0]==t){s="asc"==n[r][1]?u.sSortAsc:u.sSortDesc,i=r;break}h(e.aoColumns[t].nTh).addClass(s),e.bJUI&&(s=h("span."+u.sSortIcon,e.aoColumns[t].nTh),s.removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed),s.addClass(-1==i?e.aoColumns[t].sSortingClassJUI:"asc"==n[i][1]?u.sSortJUIAsc:u.sSortJUIDesc))}else h(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);s=u.sSortColumn;if(e.oFeatures.bSort&&e.oFeatures.bSortClasses){e=J(e),i=[];for(t=0;t<o;t++)i.push("");t=0;for(r=1;t<n.length;t++)u=parseInt(n[t][0],10),i[u]=s+r,3>r&&r++;s=RegExp(s+"[123]");var a;t=0;for(n=e.length;t<n;t++)u=t%o,r=e[t].className,a=i[u],u=r.replace(s,a),u!=r?e[t].className=h.trim(u):0<a.length&&-1==r.indexOf(a)&&(e[t].className=r+" "+a)}}function ra(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t,n;t=e.oScroll.bInfinite;var r={iCreate:(new Date).getTime(),iStart:t?0:e._iDisplayStart,iEnd:t?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:h.extend(!0,[],e.aaSorting),oSearch:h.extend(!0,{},e.oPreviousSearch),aoSearchCols:h.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};t=0;for(n=e.aoColumns.length;t<n;t++)r.abVisCols.push(e.aoColumns[t].bVisible);A(e,"aoStateSaveParams","stateSaveParams",[e,r]),e.fnStateSave.call(e.oInstance,e,r)}}function Sa(e,t){if(e.oFeatures.bStateSave){var n=e.fnStateLoad.call(e.oInstance,e);if(n){var r=A(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(-1===h.inArray(!1,r)){e.oLoadedState=h.extend(!0,{},n),e._iDisplayStart=n.iStart,e.iInitDisplayStart=n.iStart,e._iDisplayEnd=n.iEnd,e._iDisplayLength=n.iLength,e.aaSorting=n.aaSorting.slice(),e.saved_aaSorting=n.aaSorting.slice(),h.extend(e.oPreviousSearch,n.oSearch),h.extend(!0,e.aoPreSearchCols,n.aoSearchCols),t.saved_aoColumns=[];for(r=0;r<n.abVisCols.length;r++)t.saved_aoColumns[r]={},t.saved_aoColumns[r].bVisible=n.abVisCols[r];A(e,"aoStateLoaded","stateLoaded",[e,n])}}}}function s(e){for(var t=0;t<j.settings.length;t++)if(j.settings[t].nTable===e)return j.settings[t];return null}function T(e){for(var t=[],e=e.aoData,n=0,r=e.length;n<r;n++)null!==e[n].nTr&&t.push(e[n].nTr);return t}function J(e,t){var r=[],i,s,o,u,a,f;s=0;var l=e.aoData.length;t!==n&&(s=t,l=t+1);for(o=s;o<l;o++)if(f=e.aoData[o],null!==f.nTr){s=[];for(i=f.nTr.firstChild;i;)u=i.nodeName.toLowerCase(),("td"==u||"th"==u)&&s.push(i),i=i.nextSibling;u=i=0;for(a=e.aoColumns.length;u<a;u++)e.aoColumns[u].bVisible?r.push(s[u-i]):(r.push(f._anHidden[u]),i++)}return r}function D(e,t,n){e=null===e?"DataTables warning: "+n:"DataTables warning (table id = '"+e.sTableId+"'): "+n;if(0===t){if("alert"!=j.ext.sErrMode)throw Error(e);alert(e)}else X.console&&console.log&&console.log(e)}function p(e,t,r,i){i===n&&(i=r),t[r]!==n&&(e[i]=t[r])}function Ta(t,n){var r,i;for(i in n)n.hasOwnProperty(i)&&(r=n[i],"object"==typeof e[i]&&null!==r&&!1===h.isArray(r)?h.extend(!0,t[i],r):t[i]=r);return t}function Ra(e,t,n){h(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){13===e.which&&n(e)}).bind("selectstart.DT",function(){return!1})}function z(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function A(e,t,n,r){for(var t=e[t],i=[],s=t.length-1;0<=s;s--)i.push(t[s].fn.apply(e.oInstance,r));return null!==n&&h(e.oInstance).trigger(n,r),i}function Ua(e){var t=h('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];l.body.appendChild(t),e.oBrowser.bScrollOversize=100===h("#DT_BrowserTest",t)[0].offsetWidth?!0:!1,l.body.removeChild(t)}function Va(e){return function(){var t=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[e].apply(this,t)}}var U=/\[.*?\]$/,Wa=X.JSON?JSON.stringify:function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),e+"";var n,r,i=[],s=h.isArray(e);for(n in e)r=e[n],t=typeof r,"string"===t?r='"'+r+'"':"object"===t&&null!==r&&(r=Wa(r)),i.push((s?"":'"'+n+'":')+r);return(s?"[":"{")+i+(s?"]":"}")};this.$=function(e,t){var n,r,i=[],o;r=s(this[j.ext.iApiIndex]);var u=r.aoData,a=r.aiDisplay,f=r.aiDisplayMaster;t||(t={}),t=h.extend({},{filter:"none",order:"current",page:"all"},t);if("current"==t.page){n=r._iDisplayStart;for(r=r.fnDisplayEnd();n<r;n++)(o=u[a[n]].nTr)&&i.push(o)}else if("current"==t.order&&"none"==t.filter){n=0;for(r=f.length;n<r;n++)(o=u[f[n]].nTr)&&i.push(o)}else if("current"==t.order&&"applied"==t.filter){n=0;for(r=a.length;n<r;n++)(o=u[a[n]].nTr)&&i.push(o)}else if("original"==t.order&&"none"==t.filter){n=0;for(r=u.length;n<r;n++)(o=u[n].nTr)&&i.push(o)}else if("original"==t.order&&"applied"==t.filter){n=0;for(r=u.length;n<r;n++)o=u[n].nTr,-1!==h.inArray(n,a)&&o&&i.push(o)}else D(r,1,"Unknown selection options");return i=h(i),n=i.filter(e),i=i.find(e),h([].concat(h.makeArray(n),h.makeArray(i)))},this._=function(e,t){var n=[],r,i,s=this.$(e,t);r=0;for(i=s.length;r<i;r++)n.push(this.fnGetData(s[r]));return n},this.fnAddData=function(e,t){if(0===e.length)return[];var r=[],i,o=s(this[j.ext.iApiIndex]);if("object"==typeof e[0]&&null!==e[0])for(var u=0;u<e.length;u++){i=H(o,e[u]);if(-1==i)return r;r.push(i)}else{i=H(o,e);if(-1==i)return r;r.push(i)}return o.aiDisplay=o.aiDisplayMaster.slice(),(t===n||t)&&aa(o),r},this.fnAdjustColumnSizing=function(e){var t=s(this[j.ext.iApiIndex]);k(t),e===n||e?this.fnDraw(!1):(""!==t.oScroll.sX||""!==t.oScroll.sY)&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=s(this[j.ext.iApiIndex]);ga(t),(e===n||e)&&x(t)},this.fnClose=function(e){for(var t=s(this[j.ext.iApiIndex]),n=0;n<t.aoOpenRows.length;n++)if(t.aoOpenRows[n].nParent==e)return(e=t.aoOpenRows[n].nTr.parentNode)&&e.removeChild(t.aoOpenRows[n].nTr),t.aoOpenRows.splice(n,1),0;return 1},this.fnDeleteRow=function(e,t,r){var i=s(this[j.ext.iApiIndex]),o,u,e="object"==typeof e?I(i,e):e,a=i.aoData.splice(e,1);o=0;for(u=i.aoData.length;o<u;o++)null!==i.aoData[o].nTr&&(i.aoData[o].nTr._DT_RowIndex=o);o=h.inArray(e,i.aiDisplay),i.asDataSearch.splice(o,1),ha(i.aiDisplayMaster,e),ha(i.aiDisplay,e),"function"==typeof t&&t.call(this,i,a),i._iDisplayStart>=i.fnRecordsDisplay()&&(i._iDisplayStart-=i._iDisplayLength,0>i._iDisplayStart&&(i._iDisplayStart=0));if(r===n||r)y(i),x(i);return a},this.fnDestroy=function(t){var r=s(this[j.ext.iApiIndex]),i=r.nTableWrapper.parentNode,o=r.nTBody,u,a,t=t===n?!1:t;r.bDestroying=!0,A(r,"aoDestroyCallback","destroy",[r]);if(!t){u=0;for(a=r.aoColumns.length;u<a;u++)!1===r.aoColumns[u].bVisible&&this.fnSetColumnVis(u,!0)}h(r.nTableWrapper).find("*").andSelf().unbind(".DT"),h("tbody>tr>td."+r.oClasses.sRowEmpty,r.nTable).parent().remove(),r.nTable!=r.nTHead.parentNode&&(h(r.nTable).children("thead").remove(),r.nTable.appendChild(r.nTHead)),r.nTFoot&&r.nTable!=r.nTFoot.parentNode&&(h(r.nTable).children("tfoot").remove(),r.nTable.appendChild(r.nTFoot)),r.nTable.parentNode.removeChild(r.nTable),h(r.nTableWrapper).remove(),r.aaSorting=[],r.aaSortingFixed=[],P(r),h(T(r)).removeClass(r.asStripeClasses.join(" ")),h("th, td",r.nTHead).removeClass([r.oClasses.sSortable,r.oClasses.sSortableAsc,r.oClasses.sSortableDesc,r.oClasses.sSortableNone].join(" ")),r.bJUI&&(h("th span."+r.oClasses.sSortIcon+", td span."+r.oClasses.sSortIcon,r.nTHead).remove(),h("th, td",r.nTHead).each(function(){var e=h("div."+r.oClasses.sSortJUIWrapper,this),t=e.contents();h(this).append(t),e.remove()})),!t&&r.nTableReinsertBefore?i.insertBefore(r.nTable,r.nTableReinsertBefore):t||i.appendChild(r.nTable),u=0;for(a=r.aoData.length;u<a;u++)null!==r.aoData[u].nTr&&o.appendChild(r.aoData[u].nTr);!0===r.oFeatures.bAutoWidth&&(r.nTable.style.width=q(r.sDestroyWidth));if(a=r.asDestroyStripes.length){t=h(o).children("tr");for(u=0;u<a;u++)t.filter(":nth-child("+a+"n + "+u+")").addClass(r.asDestroyStripes[u])}u=0;for(a=j.settings.length;u<a;u++)j.settings[u]==r&&j.settings.splice(u,1);e=r=null},this.fnDraw=function(e){var t=s(this[j.ext.iApiIndex]);!1===e?(y(t),x(t)):aa(t)},this.fnFilter=function(e,t,r,i,o,u){var a=s(this[j.ext.iApiIndex]);if(a.oFeatures.bFilter){if(r===n||null===r)r=!1;if(i===n||null===i)i=!0;if(o===n||null===o)o=!0;if(u===n||null===u)u=!0;if(t===n||null===t){if(K(a,{sSearch:e+"",bRegex:r,bSmart:i,bCaseInsensitive:u},1),o&&a.aanFeatures.f){t=a.aanFeatures.f,r=0;for(i=t.length;r<i;r++)try{t[r]._DT_Input!=l.activeElement&&h(t[r]._DT_Input).val(e)}catch(f){h(t[r]._DT_Input).val(e)}}}else h.extend(a.aoPreSearchCols[t],{sSearch:e+"",bRegex:r,bSmart:i,bCaseInsensitive:u}),K(a,a.oPreviousSearch,1)}},this.fnGetData=function(e,t){var r=s(this[j.ext.iApiIndex]);if(e!==n){var i=e;if("object"==typeof e){var o=e.nodeName.toLowerCase();"tr"===o?i=I(r,e):"td"===o&&(i=I(r,e.parentNode),t=fa(r,i,e))}return t!==n?v(r,i,t,""):r.aoData[i]!==n?r.aoData[i]._aData:null}return Z(r)},this.fnGetNodes=function(e){var t=s(this[j.ext.iApiIndex]);return e!==n?t.aoData[e]!==n?t.aoData[e].nTr:null:T(t)},this.fnGetPosition=function(e){var t=s(this[j.ext.iApiIndex]),n=e.nodeName.toUpperCase();return"TR"==n?I(t,e):"TD"==n||"TH"==n?(n=I(t,e.parentNode),e=fa(t,n,e),[n,R(t,e),e]):null},this.fnIsOpen=function(e){for(var t=s(this[j.ext.iApiIndex]),n=0;n<t.aoOpenRows.length;n++)if(t.aoOpenRows[n].nParent==e)return!0;return!1},this.fnOpen=function(e,n,r){var i=s(this[j.ext.iApiIndex]),o=T(i);if(-1!==h.inArray(e,o)){this.fnClose(e);var o=l.createElement("tr"),u=l.createElement("td");return o.appendChild(u),u.className=r,u.colSpan=t(i),"string"==typeof n?u.innerHTML=n:h(u).html(n),n=h("tr",i.nTBody),-1!=h.inArray(e,n)&&h(o).insertAfter(e),i.aoOpenRows.push({nTr:o,nParent:e}),o}},this.fnPageChange=function(e,t){var r=s(this[j.ext.iApiIndex]);qa(r,e),y(r),(t===n||t)&&x(r)},this.fnSetColumnVis=function(e,r,i){var o=s(this[j.ext.iApiIndex]),u,a,f=o.aoColumns,l=o.aoData,c,h;if(f[e].bVisible!=r){if(r){for(u=a=0;u<e;u++)f[u].bVisible&&a++;h=a>=t(o);if(!h)for(u=e;u<f.length;u++)if(f[u].bVisible){c=u;break}u=0;for(a=l.length;u<a;u++)null!==l[u].nTr&&(h?l[u].nTr.appendChild(l[u]._anHidden[e]):l[u].nTr.insertBefore(l[u]._anHidden[e],J(o,u)[c]))}else{u=0;for(a=l.length;u<a;u++)null!==l[u].nTr&&(c=J(o,u)[e],l[u]._anHidden[e]=c,c.parentNode.removeChild(c))}f[e].bVisible=r,W(o,o.aoHeader),o.nTFoot&&W(o,o.aoFooter),u=0;for(a=o.aoOpenRows.length;u<a;u++)o.aoOpenRows[u].nTr.colSpan=t(o);if(i===n||i)k(o),x(o);ra(o)}},this.fnSettings=function(){return s(this[j.ext.iApiIndex])},this.fnSort=function(e){var t=s(this[j.ext.iApiIndex]);t.aaSorting=e,O(t)},this.fnSortListener=function(e,t,n){ia(s(this[j.ext.iApiIndex]),e,t,n)},this.fnUpdate=function(e,t,i,o,u){var a=s(this[j.ext.iApiIndex]),t="object"==typeof t?I(a,t):t;if(h.isArray(e)&&i===n){a.aoData[t]._aData=e.slice();for(i=0;i<a.aoColumns.length;i++)this.fnUpdate(v(a,t,i),t,i,!1,!1)}else if(h.isPlainObject(e)&&i===n){a.aoData[t]._aData=h.extend(!0,{},e);for(i=0;i<a.aoColumns.length;i++)this.fnUpdate(v(a,t,i),t,i,!1,!1)}else{F(a,t,i,e);var e=v(a,t,i,"display"),f=a.aoColumns[i];null!==f.fnRender&&(e=S(a,t,i),f.bUseRendered&&F(a,t,i,e)),null!==a.aoData[t].nTr&&(J(a,t)[i].innerHTML=e)}return i=h.inArray(t,a.aiDisplay),a.asDataSearch[i]=na(a,Y(a,t,"filter",r(a,"bSearchable"))),(u===n||u)&&k(a),(o===n||o)&&aa(a),0},this.fnVersionCheck=j.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1e3*c);var c=X.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;null!==e?(g="function"==typeof h.parseJSON?h.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",a=l.cookie.split(";"),e=b.split(";")[0].length,f=[];if(4096<e+l.cookie.length+10){for(var j=0,o=a.length;j<o;j++)if(-1!=a[j].indexOf(d)){var k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}for(f.sort(function(e,t){return t.time-e.time});4096<e+l.cookie.length+10;){if(0===f.length)return;d=f.pop(),l.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}l.cookie=b},_fnReadCookie:function(e){for(var t=X.location.pathname.split("/"),e=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",t=l.cookie.split(";"),n=0;n<t.length;n++){for(var r=t[n];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return decodeURIComponent(r.substring(e.length,r.length))}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r},h.extend(j.ext.oApi,this.oApi);for(var sa in j.ext.oApi)sa&&(this[sa]=Va(sa));var ca=this;return this.each(function(){var t=0,r,i,s;i=this.getAttribute("id");var u=!1,a=!1;if("table"!=this.nodeName.toLowerCase())D(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{t=0;for(r=j.settings.length;t<r;t++){if(j.settings[t].nTable==this){if(e===n||e.bRetrieve)return j.settings[t].oInstance;if(e.bDestroy){j.settings[t].oInstance.fnDestroy();break}D(j.settings[t],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}if(j.settings[t].sTableId==this.id){j.settings.splice(t,1);break}}if(null===i||""===i)this.id=i="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++;var f=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:i,sTableId:i});j.settings.push(f),f.oInstance=1===ca.length?ca:h(this).dataTable(),e||(e={}),e.oLanguage&&pa(e.oLanguage),e=Ta(h.extend(!0,{},j.defaults),e),p(f.oFeatures,e,"bPaginate"),p(f.oFeatures,e,"bLengthChange"),p(f.oFeatures,e,"bFilter"),p(f.oFeatures,e,"bSort"),p(f.oFeatures,e,"bInfo"),p(f.oFeatures,e,"bProcessing"),p(f.oFeatures,e,"bAutoWidth"),p(f.oFeatures,e,"bSortClasses"),p(f.oFeatures,e,"bServerSide"),p(f.oFeatures,e,"bDeferRender"),p(f.oScroll,e,"sScrollX","sX"),p(f.oScroll,e,"sScrollXInner","sXInner"),p(f.oScroll,e,"sScrollY","sY"),p(f.oScroll,e,"bScrollCollapse","bCollapse"),p(f.oScroll,e,"bScrollInfinite","bInfinite"),p(f.oScroll,e,"iScrollLoadGap","iLoadGap"),p(f.oScroll,e,"bScrollAutoCss","bAutoCss"),p(f,e,"asStripeClasses"),p(f,e,"asStripClasses","asStripeClasses"),p(f,e,"fnServerData"),p(f,e,"fnFormatNumber"),p(f,e,"sServerMethod"),p(f,e,"aaSorting"),p(f,e,"aaSortingFixed"),p(f,e,"aLengthMenu"),p(f,e,"sPaginationType"),p(f,e,"sAjaxSource"),p(f,e,"sAjaxDataProp"),p(f,e,"iCookieDuration"),p(f,e,"sCookiePrefix"),p(f,e,"sDom"),p(f,e,"bSortCellsTop"),p(f,e,"iTabIndex"),p(f,e,"oSearch","oPreviousSearch"),p(f,e,"aoSearchCols","aoPreSearchCols"),p(f,e,"iDisplayLength","_iDisplayLength"),p(f,e,"bJQueryUI","bJUI"),p(f,e,"fnCookieCallback"),p(f,e,"fnStateLoad"),p(f,e,"fnStateSave"),p(f.oLanguage,e,"fnInfoCallback"),z(f,"aoDrawCallback",e.fnDrawCallback,"user"),z(f,"aoServerParams",e.fnServerParams,"user"),z(f,"aoStateSaveParams",e.fnStateSaveParams,"user"),z(f,"aoStateLoadParams",e.fnStateLoadParams,"user"),z(f,"aoStateLoaded",e.fnStateLoaded,"user"),z(f,"aoRowCallback",e.fnRowCallback,"user"),z(f,"aoRowCreatedCallback",e.fnCreatedRow,"user"),z(f,"aoHeaderCallback",e.fnHeaderCallback,"user"),z(f,"aoFooterCallback",e.fnFooterCallback,"user"),z(f,"aoInitComplete",e.fnInitComplete,"user"),z(f,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),f.oFeatures.bServerSide&&f.oFeatures.bSort&&f.oFeatures.bSortClasses?z(f,"aoDrawCallback",P,"server_side_sort_classes"):f.oFeatures.bDeferRender&&z(f,"aoDrawCallback",P,"defer_sort_classes"),e.bJQueryUI?(h.extend(f.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(f.sDom='<"H"lfr>t<"F"ip>')):h.extend(f.oClasses,j.ext.oStdClasses),h(this).addClass(f.oClasses.sTable);if(""!==f.oScroll.sX||""!==f.oScroll.sY)f.oScroll.iBarWidth=Qa();f.iInitDisplayStart===n&&(f.iInitDisplayStart=e.iDisplayStart,f._iDisplayStart=e.iDisplayStart),e.bStateSave&&(f.oFeatures.bStateSave=!0,Sa(f,e),z(f,"aoDrawCallback",ra,"state_save")),null!==e.iDeferLoading&&(f.bDeferLoading=!0,t=h.isArray(e.iDeferLoading),f._iRecordsDisplay=t?e.iDeferLoading[0]:e.iDeferLoading,f._iRecordsTotal=t?e.iDeferLoading[1]:e.iDeferLoading),null!==e.aaData&&(a=!0),""!==e.oLanguage.sUrl?(f.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(f.oLanguage.sUrl,null,function(t){pa(t),h.extend(!0,f.oLanguage,e.oLanguage,t),ba(f)}),u=!0):h.extend(!0,f.oLanguage,e.oLanguage),null===e.asStripeClasses&&(f.asStripeClasses=[f.oClasses.sStripeOdd,f.oClasses.sStripeEven]),r=f.asStripeClasses.length,f.asDestroyStripes=[];if(r){i=!1,s=h(this).children("tbody").children("tr:lt("+r+")");for(t=0;t<r;t++)s.hasClass(f.asStripeClasses[t])&&(i=!0,f.asDestroyStripes.push(f.asStripeClasses[t]));i&&s.removeClass(f.asStripeClasses.join(" "))}i=[],t=this.getElementsByTagName("thead"),0!==t.length&&(V(f.aoHeader,t[0]),i=N(f));if(null===e.aoColumns){s=[],t=0;for(r=i.length;t<r;t++)s.push(null)}else s=e.aoColumns;t=0;for(r=s.length;t<r;t++)e.saved_aoColumns!==n&&e.saved_aoColumns.length==r&&(null===s[t]&&(s[t]={}),s[t].bVisible=e.saved_aoColumns[t].bVisible),o(f,i?i[t]:null);ta(f,e.aoColumnDefs,s,function(e,t){m(f,e,t)}),t=0;for(r=f.aaSorting.length;t<r;t++){f.aaSorting[t][0]>=f.aoColumns.length&&(f.aaSorting[t][0]=0);var c=f.aoColumns[f.aaSorting[t][0]];f.aaSorting[t][2]===n&&(f.aaSorting[t][2]=0),e.aaSorting===n&&f.saved_aaSorting===n&&(f.aaSorting[t][1]=c.asSorting[0]),i=0;for(s=c.asSorting.length;i<s;i++)if(f.aaSorting[t][1]==c.asSorting[i]){f.aaSorting[t][2]=i;break}}P(f),Ua(f),t=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")}),r=h(this).children("thead"),0===r.length&&(r=[l.createElement("thead")],this.appendChild(r[0])),f.nTHead=r[0],r=h(this).children("tbody"),0===r.length&&(r=[l.createElement("tbody")],this.appendChild(r[0])),f.nTBody=r[0],f.nTBody.setAttribute("role","alert"),f.nTBody.setAttribute("aria-live","polite"),f.nTBody.setAttribute("aria-relevant","all"),r=h(this).children("tfoot"),0===r.length&&0<t.length&&(""!==f.oScroll.sX||""!==f.oScroll.sY)&&(r=[l.createElement("tfoot")],this.appendChild(r[0])),0<r.length&&(f.nTFoot=r[0],V(f.aoFooter,f.nTFoot));if(a)for(t=0;t<e.aaData.length;t++)H(f,e.aaData[t]);else ua(f);f.aiDisplay=f.aiDisplayMaster.slice(),f.bInitialised=!0,!1===u&&ba(f)}}),ca=null,this};j.fnVersionCheck=function(e){for(var t=function(e,t){for(;e.length<t;)e+="0";return e},n=j.ext.sVersion.split("."),e=e.split("."),r="",i="",s=0,o=e.length;s<o;s++)r+=t(n[s],3),i+=t(e[s],3);return parseInt(r,10)>=parseInt(i,10)},j.fnIsDataTable=function(e){for(var t=j.settings,n=0;n<t.length;n++)if(t[n].nTable===e||t[n].nScrollHead===e||t[n].nScrollFoot===e)return!0;return!1},j.fnTables=function(e){var t=[];return jQuery.each(j.settings,function(n,r){(!e||!0===e&&h(r.nTable).is(":visible"))&&t.push(r.nTable)}),t},j.version="1.9.4",j.settings=[],j.models={},j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1e3>e)return e;for(var t=e+"",e=t.split(""),n="",t=t.length,r=0;r<t;r++)0===r%3&&0!==r&&(n=this.oLanguage.sInfoThousands+n),n=e[t-r-1]+n;return n},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,n,r){r.jqXHR=h.ajax({url:e,data:t,success:function(e){e.sError&&r.oApi._fnLog(r,0,e.sError),h(r.oInstance).trigger("xhr",[r,e]),n(e)},dataType:"json",cache:!1,type:r.sServerMethod,error:function(e,t){"parsererror"==t&&r.oApi._fnLog(r,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"==typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},j.ext=h.extend(!0,{},j.models.ext),h.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),h.extend(j.ext.oPagination,{two_button:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate,i=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)},r=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+r.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+r.sNext+"</a>";h(t).append(r);var s=h("a",t),r=s[0],s=s[1];e.oApi._fnBindAction(r,{action:"previous"},i),e.oApi._fnBindAction(s,{action:"next"},i),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",r.id=e.sTableId+"_previous",s.id=e.sTableId+"_next",r.setAttribute("aria-controls",e.sTableId),s.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var t=e.oClasses,n=e.aanFeatures.p,r,i=0,s=n.length;i<s;i++)if(r=n[i].firstChild)r.className=0===e._iDisplayStart?t.sPagePrevDisabled:t.sPagePrevEnabled,r=r.nextSibling,r.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?t.sPageNextDisabled:t.sPageNextEnabled}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate,i=e.oClasses,s=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)};h(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPageFirst+'">'+r.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPagePrevious+'">'+r.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPageNext+'">'+r.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPageLast+'">'+r.sLast+"</a>");var o=h("a",t),r=o[0],i=o[1],u=o[2],o=o[3];e.oApi._fnBindAction(r,{action:"first"},s),e.oApi._fnBindAction(i,{action:"previous"},s),e.oApi._fnBindAction(u,{action:"next"},s),e.oApi._fnBindAction(o,{action:"last"},s),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",r.id=e.sTableId+"_first",i.id=e.sTableId+"_previous",u.id=e.sTableId+"_next",o.id=e.sTableId+"_last")},fnUpdate:function(e,t){if(e.aanFeatures.p){var n=j.ext.oPagination.iFullNumbersShowPages,r=Math.floor(n/2),i=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),s=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,o="",u,a=e.oClasses,f,l=e.aanFeatures.p,c=function(n){e.oApi._fnBindAction(this,{page:n+u-1},function(n){e.oApi._fnPageChange(e,n.data.page),t(e),n.preventDefault()})};-1===e._iDisplayLength?s=r=u=1:i<n?(u=1,r=i):s<=r?(u=1,r=n):s>=i-r?(u=i-n+1,r=i):(u=s-Math.ceil(n/2)+1,r=u+n-1);for(n=u;n<=r;n++)o+=s!==n?'<a tabindex="'+e.iTabIndex+'" class="'+a.sPageButton+'">'+e.fnFormatNumber(n)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+a.sPageButtonActive+'">'+e.fnFormatNumber(n)+"</a>";n=0;for(r=l.length;n<r;n++)f=l[n],f.hasChildNodes()&&(h("span:eq(0)",f).html(o).children("a").each(c),f=f.getElementsByTagName("a"),f=[f[0],f[1],f[f.length-2],f[f.length-1]],h(f).removeClass(a.sPageButton+" "+a.sPageButtonActive+" "+a.sPageButtonStaticDisabled),h([f[0],f[1]]).addClass(1==s?a.sPageButtonStaticDisabled:a.sPageButton),h([f[2],f[3]]).addClass(0===i||s===i||-1===e._iDisplayLength?a.sPageButtonStaticDisabled:a.sPageButton))}}}}),h.extend(j.ext.oSort,{"string-pre":function(e){return"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():""),e.toLowerCase()},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return e<t?-1:e>t?1:0},"html-desc":function(e,t){return e<t?1:e>t?-1:0},"date-pre":function(e){e=Date.parse(e);if(isNaN(e)||""===e)e=Date.parse("01/01/1970 00:00:00");return e},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),h.extend(j.ext.aTypes,[function(e){if("number"==typeof e)return"numeric";if("string"!=typeof e)return null;var t,n=!1;t=e.charAt(0);if(-1=="0123456789-".indexOf(t))return null;for(var r=1;r<e.length;r++){t=e.charAt(r);if(-1=="0123456789.".indexOf(t))return null;if("."==t){if(n)return null;n=!0}}return"numeric"},function(e){var t=Date.parse(e);return null!==t&&!isNaN(t)||"string"==typeof e&&0===e.length?"date":null},function(e){return"string"==typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]),h.fn.DataTable=j,h.fn.dataTable=j,h.fn.dataTableSettings=j.settings,h.fn.dataTableExt=j.ext};"function"==typeof define&&define.amd?define("dataTable",["jquery"],L):jQuery&&!jQuery.fn.dataTable&&L(jQuery)}(window,document),define("ko.dataTable",["jquery","knockout","dataTable"],function(e,t){e.fn.dataTableExt.oApi.fnReloadAjax=function(e,t,n,r){t!==undefined&&t!==null&&(e.sAjaxSource=t);if(e.oFeatures.bServerSide){this.fnDraw();return}this.oApi._fnProcessingDisplay(e,!0);var i=this,s=e._iDisplayStart,o=[];this.oApi._fnServerParams(e,o),e.fnServerData.call(e.oInstance,e.sAjaxSource,o,function(t){i.oApi._fnClearTable(e);var o=e.sAjaxDataProp!==""?i.oApi._fnGetObjectDataFn(e.sAjaxDataProp)(t):t;for(var u=0;u<o.length;u++)i.oApi._fnAddData(e,o[u]);e.aiDisplay=e.aiDisplayMaster.slice(),i.fnDraw(),r===!0&&(e._iDisplayStart=s,i.oApi._fnCalculateEnd(e),i.fnDraw(!1)),i.oApi._fnProcessingDisplay(e,!1),typeof n=="function"&&n!==null&&n(e)},e)},function(e,t){t.bindingHandlers.dataTable={init:function(n,r,i,s,o){var u=t.utils.unwrapObservable(r()),a=u.options;if(a){a.rowTemplate&&(a.fnRowCallback=function(e,n,r,i,s){t.renderTemplate(a.rowTemplate,o.createChildContext(a.buildRow(n)),null,e,"replaceChildren")}),a.fnDrawCallback=function(){var t=this.fnSettings(),n=e(".dataTables_paginate.paging_two_button");t._iDisplayLength>=t.fnRecordsDisplay()?n.hide():n.show()};var f=e(n).dataTable(a);a.init&&a.init(f),u.instance&&u.instance(f)}}}}(jQuery,t)}),define("moduls/dashboard/viewModels/home",["knockout","jquery","text!./../templates/home.html","vent","ko.dataTable"],function(e,t,n,r){var i=function(e){var t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear();return r+"-"+n+"-"+t};return function(){var s=this;s.transitionsDataTabe=e.observable(),s.transitionPeriod=e.observable("day"),s.fnServerParamsTransaction=function(e){e.push({name:"period",value:s.transitionPeriod()})},s.transitionColumns=[{sTitle:"Event",mData:function(){return null},bSortable:!1},{sTitle:"Date",mData:function(){return null},bSortable:!1},{sTitle:"Amount",mData:function(){return null},bSortable:!1},{sTitle:"Memo",mData:function(){return null},bSortable:!1}],s.buildTransitionRow=function(e){return e},s.transitionsByDay=function(){s.transitionPeriod("day"),s.transitionsDataTabe().fnReloadAjax()},s.transitionsBy2Weekly=function(){s.transitionPeriod("weekly2"),s.transitionsDataTabe().fnReloadAjax()},s.transitionsMonthly=function(){s.transitionPeriod("monthly"),s.transitionsDataTabe().fnReloadAjax()},s.taskDataTabe=e.observable(),s.taskPeriod=e.observable("day"),s.fnServerParamsTTask=function(e){e.push({name:"period",value:s.taskPeriod()}),e.push({name:"date",value:i(new Date)})},s.taskColumns=[{sTitle:"Task",mData:function(){return null},bSortable:!1},{sTitle:"Details",mData:function(){return null},bSortable:!1}],s.buildTaskRow=function(e){return e},s.taskByDay=function(){s.taskPeriod("day"),s.taskDataTabe().fnReloadAjax()},s.taskBy2Weekly=function(){s.taskPeriod("weekly2"),s.taskDataTabe().fnReloadAjax()},s.taskMonthly=function(){s.taskPeriod("monthly"),s.taskDataTabe().fnReloadAjax()},s.eventDataTabe=e.observable(),s.eventPeriod=e.observable("day"),s.fnServerParamsTEvent=function(e){e.push({name:"period",value:s.eventPeriod()})},s.eventColumns=[{sTitle:"Event",mData:function(){return null},bSortable:!1},{sTitle:"Date",mData:function(){return null},bSortable:!1},{sTitle:"Amount",mData:function(){return null},bSortable:!1},{sTitle:"Memo",mData:function(){return null},bSortable:!1}],s.buildEventRow=function(e){return e},s.eventByDay=function(){s.eventPeriod("day"),s.eventDataTabe().fnReloadAjax()},s.teventBy2Weekly=function(){s.eventPeriod("weekly2"),s.eventDataTabe().fnReloadAjax()},s.eventMonthly=function(){s.eventPeriod("monthly"),s.eventDataTabe().fnReloadAjax()},s.showVideo=function(){r.trigger("showHowToVidio","income")},s.afterRender=function(){t(".marker").tooltip({placement:"left"})},s.exit=function(){r.trigger("logout")},s.template=n}}),define("text!moduls/dashboard/templates/Tasks.html",[],function(){return'<script type="text/template" id="income-row">\r\n        <td class="center" >\r\n            <a data-bind="text :title, attr : { href : \'#/tasks/\' + id }"></a>\r\n        </td>\r\n        <td class="center" data-bind="text :(complete ? complete : 0) + \' %\' ">\r\n        </td>\r\n        <td class="center" data-bind="text : dueDate">\r\n        </td>\r\n        <td class="center" data-bind="text : linkTo">\r\n        -\r\n        </td>\r\n        <td class="center" data-bind="text : reminder">\r\n        </td>\r\n        <td class="center" data-bind="text : startDate">\r\n        </td>\r\n        <td class="center" >\r\n        	<a href="#" data-bind="click : $parent.delete">delete</a>\r\n        </td>\r\n        \r\n</script>\r\n\r\n<div class="income_bckgr">\r\n    <div class="income_top">\r\n        <span class="image"></span>\r\n        <div class="inline title_text">\r\n            <p class="title">Tasks</p>\r\n        </div>\r\n    </div>\r\n    <div class="inputs button fright">\r\n        <input type="submit" class="button_inp" value="Add task" data-bind="click : add" />\r\n    </div>\r\n</div>\r\n\r\n<div style="width: 900px" class="fixHeight">\r\n<table cellpadding="0" cellspacing="0" border="0" class="display" id="example" width="100%"\r\ndata-bind="dataTable: { \r\n    instance :  oTable,\r\n    options : {\r\n         sScrollY: \'271px\',\r\n         bPaginate: true,\r\n         bProcessing: true,\r\n         bInfo : false,\r\n         bServerSide: true,\r\n         bLengthChange  : false,\r\n         bScrollCollapse: false,\r\n         sAjaxSource : \'/task/listTask\' ,\r\n         aoColumns : columns,\r\n         buildRow : buildRow,\r\n         rowTemplate : \'income-row\'\r\n        }\r\n    }">\r\n</table>\r\n</div>'}),define("moduls/dashboard/viewModels/Tasks",["knockout","jquery","text!./../templates/Tasks.html","core"],function(e,t,n,r){return function(){var t=this;t.add=function(){window.location="#/tasks/new"},t.oTable=e.observable(),t.delete=function(e){r.ajax_post("/api/task/delete",{id:e.id},function(){t.oTable().fnReloadAjax()})},t.columns=[{sTitle:"Title",mData:function(e,t,n){return null},bSortable:!1},{sTitle:"Complete",mData:function(e,t,n){return null},bSortable:!1},{sTitle:"Due date",mData:function(e,t,n){return null},bSortable:!1},{sTitle:"link to",mData:function(e,t,n){return null},bSortable:!1},{sTitle:"reminder",mData:function(e,t,n){return null},bSortable:!1},{sTitle:"start date",mData:function(e,t,n){return null},bSortable:!1},{sTitle:"",mData:function(e,t,n){return null},bSortable:!1}],t.buildRow=function(e){return e},t.template=n}}),define("text!moduls/dashboard/templates/AddTask.html",[],function(){return'<div class="address_cont" data-bind=\'validationOptions: { insertMessages: false }\'>\r\n    <div class="fleft">\r\n        <p class="task"><strong><a href="#/tasks/new" ><img class="vertical" src="/pages/img/plus.png">ADD A TASK </a></strong></p>\r\n    </div>\r\n    <div class="fright">\r\n        <ul class="menu_supplier">\r\n            <li><a href="#"><img src="/pages/img/suppl_hat.png"></a></li>\r\n            <li><a href="#"><img src="/pages/img/suppl_print.png"></a></li>\r\n            <li><a href="#"><img src="/pages/img/suppl_conv.png"></a></li>\r\n            <li><a href="#"><img src="/pages/img/suppl_cancel.png"></a></li>\r\n            <li><a href="#"><img src="/pages/img/suppl_message.png"></a></li>\r\n            <li><a href="#"><img src="/pages/img/suppl_kino.png"></a></li>\r\n        </ul>\r\n    </div>\r\n    <div class="clear"></div>\r\n    <div class="contacts_item">\r\n        <div class="left_right" id="add_task_form" >\r\n            <div class="fleft">\r\n                <div>\r\n                    <p data-bind="validationMessage: title" class="validationMessage" style="float:left">Please enter a valid date</p>\r\n                    <div class="clear"></div>\r\n                </div>\r\n                <div class="edit_info adress_page">\r\n                    <span class="names_task">Title:</span>\r\n                    <input data-bind="value : title " type="text" >\r\n                </div>\r\n                <div class="edit_info">\r\n                    <span class="fleft names_task">Link to:</span>\r\n                    <select data-bind="options : members, optionsCaption : \'Please select...\', value : linkTo, optionsText : memberName, optionsValue : memberName">\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <span data-bind="visible : dateDeaposonInvalid" class="validationMessage" style="float:right">start date must be less than due date</span>\r\n                    <div class="clear"></div>\r\n                </div>\r\n                <div>\r\n                    <span data-bind="visible : startDateInvalid" class="validationMessage" style="float:right">Please enter a valid date</span>\r\n                    <div class="clear"></div>\r\n                </div>\r\n                <div class="edit_info"  id="date">\r\n                    <span class="names_task">Start date:</span>\r\n                        <input  maxlength="2" type="text" placeholder="DD" data-bind="value : startDay" class="input_norm date">\r\n                        <input  maxlength="2" type="text" placeholder="MM" data-bind="value : startMonth" class="input_norm month">\r\n                        <input  maxlength="4" type="text" placeholder="YYYY" data-bind="value : startYear"  class="input_norm year">\r\n                </div>\r\n                <div>\r\n                    <span data-bind="visible : dueDateInvalid" class="validationMessage" style="float:right">Please enter a valid date</span>\r\n                    <div class="clear"></div>\r\n                </div>\r\n                <div class="edit_info"  id="date2">\r\n                    <span class="names_task">Due Date</span>\r\n                    <input maxlength="2" type="text" data-bind="value : dueDay" placeholder="DD" class="input_norm date">\r\n                    <input  maxlength="2" type="text" data-bind="value : dueMonth" placeholder="MM" class="input_norm month">\r\n                    <input  maxlength="4" type="text"  data-bind="value : dueYear" placeholder="YYYY"  class="input_norm year">\r\n                </div>\r\n                <div class="edit_info">\r\n                    <span class="names_task">% Complete:</span>\r\n                    <select data-bind="optionsCaption : \'Please select...\', options: procents, value : complete">\r\n                    </select>\r\n                </div>\r\n                <div class="edit_info">\r\n                    <span class="names_task">Reminder:</span>\r\n                    <select data-bind="options : reminderList, optionsCaption : \'Days before...\', value : reminder">\r\n                        <option>1</option>\r\n                        <option>2</option>\r\n                        <option>3</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class="fright task_btns">\r\n                <div class="inputs">\r\n                    <input type="button" value="Reoccurence" class="butt_add">\r\n                </div>\r\n                <div class="inputs">\r\n                    <input type="button" value="Attach" class="butt_add">\r\n                </div>\r\n            </div>\r\n            <div id="edit-task-save-holder">\r\n                <div class="inputs">\r\n                    <input data-bind="click : saveTask" type="button" value="save" class="butt_add">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n            <!-- ko with : notes -->\r\n            <!-- ko template : { html : template } -->\r\n            <!-- /ko -->\r\n            <!-- /ko -->\r\n    </div>\r\n</div>'}),define("moduls/dashboard/viewModels/AddTask",["knockout","jquery","text!./../templates/AddTask.html","core","../../widgets/start"],function(e,t,n,r,i){var s=function(e,t,n){if(e==""||t==""||n=="")return!0;var r=new Date(parseInt(n,10),parseInt(t,10)-1,parseInt(e,10));return isNaN(r.getTime())||r.getDate()!=e||r.getMonth()+1!=t||r.getFullYear()!=n},o=function(e,t,n){return e==""&&t==""&&n==""?null:n+"-"+t+"-"+e},u=function(e,t,n,r){if(e){var i=new Date(e);t(i.getDate()),n(i.getMonth()+1),r(i.getFullYear())}};return function(t){var a=this;a.title=e.observable(t.title).extend({required:!0}),a.reminder=e.observable(t.reminder),a.reminderList=t.jsonValues.reminder,a.members=t.jsonValues.members,a.linkTo=e.observable(t.linkTo),a.complete=e.observable(t.complete),a.procents=t.jsonValues.complete,a.startMonth=e.observable(""),a.startDay=e.observable(""),a.startYear=e.observable(""),u(t.startDate,a.startDay,a.startMonth,a.startYear),a.dueMonth=e.observable(""),a.dueDay=e.observable(""),a.dueYear=e.observable(""),u(t.dueDate,a.dueDay,a.dueMonth,a.dueYear),a.startDateInvalid=e.computed(function(){return s(a.startDay(),a.startMonth(),a.startYear())}),a.dueDateInvalid=e.computed(function(){return s(a.dueDay(),a.dueMonth(),a.dueYear())}),a.dueDate=e.computed(function(){return o(a.dueDay(),a.dueMonth(),a.dueYear())}),a.startDate=e.computed(function(){return o(a.startDay(),a.startMonth(),a.startYear())}),a.dateDeaposonInvalid=e.computed(function(){if(a.dueDateInvalid()||a.startDateInvalid())return!1;var e=a.startDay(),t=a.startMonth(),n=a.startYear(),r=a.dueDate(),i=a.dueMonth(),s=a.dueYear();if(e==""||t==""||n==""||r==""||i==""||s=="")return!1;var o=new Date(parseInt(n,10),parseInt(t,10)-1,parseInt(e,10)),u=new Date(parseInt(s,10),parseInt(i,10)-1,parseInt(r,10));return u<o}),a.notes=e.observable(new i.Notes(t.notes)),a.errors=e.validation.group(a),a.saveTask=function(){var e=a.notes().getNotes(),n={title:a.title(),startDate:a.startDate(),dueDate:a.dueDate(),complete:a.complete(),reminder:a.reminder(),notes:e,linkTo:a.linkTo()};t.id&&(n.id=t.id),a.errors().length!=0?a.errors.showAllMessages():a.startDateInvalid()==0&&a.dueDateInvalid()==0&&a.dateDeaposonInvalid()==0&&r.ajax_post("/task/add",n,function(){window.location="#/tasks"})},a.memberName=function(e){return e.firstName+" "+e.lastName},a.errors=e.validation.group(a),a.template=n}}),define("moduls/dashboard/start",["jquery","knockout","moduls/application/start","./viewModels/ProductSelect","./viewModels/ProductInfo","./viewModels/Calendar","./viewModels/Insurance","./viewModels/ProductInfoTabs/Home","./viewModels/ProductInfoTabs/Contacts","./viewModels/ProductInfoTabs/Documents","./viewModels/ProductInfoTabs/Payhistory","./viewModels/ProductInfoTabs/Сompare","./viewModels/AdressBook","./viewModels/home","./viewModels/Tasks","./viewModels/AddTask"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){var m=n.content,g=function(){m.render(r)},y=function(){m.render(n.Layout,{page:"calendar",title:"Yör - Calendar"}),m().content.render(s)},b=function(){m.render(n.Layout,{page:"insurance",title:"Yör - Edit Insurance"}),m().content.render(o,"/insurance/init")},w=function(e){var t={home:u,contacts:a,payhistory:l,documents:f,compare:c};m.render(n.Layout,{page:"productInfo_"+e,title:"Yör - Product Information"}),m().content.render(i,{tab:e}),m().content().content.render(t[e],"/insurance/productInfo")},E=function(){m.render(n.Layout,{page:"home",title:"Yör - Home"}),m().content.render(p)},S=function(){m.render(n.Layout,{page:"address",title:"Yör - Address Book"}),m().content.render(h)},x=function(){m.render(n.Layout,{page:"add_tasks",title:"Yör - Address Book"}),m().content.render(v,"/api/task/init")},T=function(e){m.render(n.Layout,{page:"add_tasks",title:"Yör - Address Book"}),m().content.render(v,"/api/task/init/"+e)},N=function(){m.render(n.GridLayout,{title:"Y&ouml;r - Tasks",fromPage:"tasks"}),m().content.render(d)};return{showProductSelect:g,showCalendar:y,showInsurance:b,showTab:w,showAdressBook:S,showHome:E,showTaskList:N,showAddTask:x,showEditTask:T}})